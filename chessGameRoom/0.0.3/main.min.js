var game;!function(e){var t=function(t){function n(){t.call(this)}__extends(n,t);var i=(__define,n),r=i.prototype;return n.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},r.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(n.STARTUP,e.StartupCommand)},r.startUp=function(e){this.sendNotification(n.STARTUP,e),this.removeCommand(n.STARTUP)},n.STARTUP="startup",n}(puremvc.Facade);e.ApplicationFacade=t,egret.registerClass(t,"game.ApplicationFacade",["puremvc.IFacade","puremvc.INotifier"])}(game||(game={}));var AssetAdapter=function(){function e(){}var t=(__define,e),n=t.prototype;return n.getAsset=function(e,t,n){function i(i){t.call(n,i,e)}if(RES.hasRes(e)){var r=RES.getRes(e);r?i(r):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var game;!function(e){var t=function(t){function n(){t.call(this),this.screenLayer=new eui.UILayer,this.mainLayer=new eui.UILayer,this.panelLayer=new eui.UILayer,this.effectLayer=new eui.UILayer,this.maskLayer=new eui.UILayer,this.loadingLayer=new eui.UILayer,this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onApplicationTouchTap,this),this.touchThrough=!0,this.screenLayer.touchThrough=!0,this.mainLayer.touchThrough=!0,this.panelLayer.touchThrough=!0,this.effectLayer.touchThrough=!0,this.maskLayer.touchThrough=!0,this.loadingLayer.touchThrough=!0,this.addChild(this.screenLayer),this.addChild(this.mainLayer),this.addChild(this.panelLayer),this.addChild(this.effectLayer),this.addChild(this.maskLayer),this.addChild(this.loadingLayer)},r.onApplicationTouchTap=function(e){this.replaceActivePanel(null)},r.replaceActivePanel=function(e){return this.activePanel&&this.panelLayer.removeChild(this.activePanel),this.activePanel==e?void(this.activePanel=null):(this.activePanel=e,void(this.activePanel&&this.panelLayer.addChild(this.activePanel)))},n.getInstance=function(){return this._instance||(this._instance=new e.ChessGameRoom),this._instance},n}(eui.UILayer);e.ChessGameRoom=t,egret.registerClass(t,"game.ChessGameRoom")}(game||(game={}));var game;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.register=function(){this.facade.registerCommand(t.UNSELECT_CARD,t)},i.execute=function(e){e.getBody();switch(e.getName()){case t.UNSELECT_CARD:}},t.NAME="CardCommand",t.UNSELECT_CARD="unselectCards",t}(puremvc.SimpleCommand);e.CardCommand=t,egret.registerClass(t,"game.CardCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.call(this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.register=function(){this.facade.registerCommand(n.SHOW,n)},r.execute=function(t){var i=t.getBody();this.facade.retrieveMediator(e.ApplicationMediator.NAME);switch(t.getName()){case n.SHOW:e.ChessGameRoomManager.getInstance().showScreen(i)}},n.NAME="ScreenCommand",n.SHOW="show",n}(puremvc.SimpleCommand);e.ScreenCommand=t,egret.registerClass(t,"game.ScreenCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.apply(this,arguments)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.execute=function(t){(new e.ScreenCommand).register()},n}(puremvc.SimpleCommand);e.PrepControllerCommand=t,egret.registerClass(t,"game.PrepControllerCommand")}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.apply(this,arguments)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.execute=function(t){this.facade.registerProxy(new e.UserProxy),this.facade.registerProxy(new e.LordProxy)},n}(puremvc.SimpleCommand);e.PrepModelCommand=t,egret.registerClass(t,"game.PrepModelCommand")}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.apply(this,arguments)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.execute=function(t){var n=t.getBody();this.facade.registerMediator(new e.ApplicationMediator(n))},n}(puremvc.SimpleCommand);e.PrepViewCommand=t,egret.registerClass(t,"game.PrepViewCommand")}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.call(this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.initializeMacroCommand=function(){this.addSubCommand(e.PrepControllerCommand),this.addSubCommand(e.PrepModelCommand),this.addSubCommand(e.PrepViewCommand)},n}(puremvc.MacroCommand);e.StartupCommand=t,egret.registerClass(t,"game.StartupCommand")}(game||(game={}));var Core=function(){function e(){}var t=__define,n=e;n.prototype;return t(e,"stageHalfWidth",function(){return e.stage.stageWidth>>1}),t(e,"stageHalfHeight",function(){return e.stage.stageHeight>>1}),t(e,"stageWidth",function(){return e.stage.stageWidth}),t(e,"stageHeight",function(){return e.stage.stageHeight}),e}();egret.registerClass(Core,"Core");var AnalyseResult=function(){function e(){this.fourCount=0,this.threeCount=0,this.doubleCount=0,this.singleCount=0,this.fourCardData=[],this.threeCardData=[],this.doubleCardData=[],this.singleCardData=[]}var t=(__define,e);t.prototype;return e}();egret.registerClass(AnalyseResult,"AnalyseResult");var GameLogic=function(){function e(){}var t=(__define,e);t.prototype;return e.getCardValue=function(t){return t&e.MASK_VALUE},e.getCardColor=function(t){return t&e.MASK_COLOR},e.getCardLogicValue=function(t){var n=e.getCardColor(t),i=e.getCardValue(t);return 64==n?i+2:2>=i?i+13:i},e.sortOnLogicValueAndColor=function(t,n){var i=e.getCardLogicValue(t),r=e.getCardLogicValue(n);if(i>r)return-1;if(r>i)return 1;var a=e.getCardColor(t),s=e.getCardColor(n);return a>s?-1:s>a?1:0},e.analyseCardData=function(t,n){var i,r,a,s=new AnalyseResult;for(r=0;n>r;r++){a=1,i=e.getCardLogicValue(t[r]);for(var o=r+1;n>o&&e.getCardLogicValue(t[o])==i;o++)a++;var d;switch(a){case 1:d=s.singleCount++,s.singleCardData[d*a]=t[r];break;case 2:d=s.doubleCount++,s.doubleCardData[d*a]=t[r],s.doubleCardData[d*a+1]=t[r+1];break;case 3:d=s.threeCount++,s.threeCardData[d*a]=t[r],s.threeCardData[d*a+1]=t[r+1],s.threeCardData[d*a+2]=t[r+2];break;case 4:d=s.fourCount++,s.fourCardData[d*a]=t[r],s.fourCardData[d*a+1]=t[r+1],s.fourCardData[d*a+2]=t[r+2],s.fourCardData[d*a+3]=t[r+3]}r+=a-1}return s},e.getCardType=function(t,n){switch(n){case 0:return e.CT_ERROR;case 1:return e.CT_SINGLE;case 2:return 79==t[0]&&78==t[1]?e.CT_MISSILE:e.getCardLogicValue(t[0])==e.getCardLogicValue(t[1])?e.CT_DOUBLE:e.CT_ERROR}var i=e.analyseCardData(t,n);if(i.fourCount>0)return 1==i.fourCount&&4==n?e.CT_BOMB:1==i.fourCount&&2==i.singleCount&&6==n?e.CT_FOUR_TAKE_TWO_SINGLE:1==i.fourCount&&2==i.doubleCount&&8==n?e.CT_FOUR_TAKE_TWO_PAIR:e.CT_ERROR;var r,a,s,o;if(i.threeCount>0){if(1==i.threeCount&&3==n)return e.CT_THREE;if(i.threeCount>1){if(r=i.threeCardData[0],a=e.getCardLogicValue(r),a>=15)return e.CT_ERROR;for(o=i.threeCount,s=1;o>s;s++)if(r=i.threeCardData[3*s],a!=e.getCardLogicValue(r)+s)return e.CT_ERROR}return 3*i.threeCount==n?e.CT_THREE_LINE:4*i.threeCount==n?e.CT_THREE_LINE_TAKE_ONE_SINGLE:5*i.threeCount==n?e.CT_THREE_LINE_TAKE_ONE_PAIR:e.CT_ERROR}if(i.doubleCount>=3){if(r=i.doubleCardData[0],a=e.getCardLogicValue(r),a>=15)return e.CT_ERROR;for(o=i.doubleCount,s=1;o>s;s++)if(r=i.doubleCardData[2*s],a!=e.getCardLogicValue(r)+s)return e.CT_ERROR;return 2*i.doubleCount==n?e.CT_DOUBLE_LINE:e.CT_ERROR}if(i.singleCount>=5&&i.singleCount==n){if(r=i.singleCardData[0],a=e.getCardLogicValue(r),a>=15)return e.CT_ERROR;for(o=i.singleCount,s=1;o>s;s++)if(r=i.singleCardData[s],a!=e.getCardLogicValue(r)+s)return e.CT_ERROR;return e.CT_SINGLE_LINE}return e.CT_ERROR},e.searchOutCard=function(t,n,i,r,a){var s=e.getCardType(i,r);if(s==e.CT_MISSILE)return!1;var o,d,h,c,l,u,g,C,m,f=t.concat(),E=n,L=e.analyseCardData(f,E);switch(s){case e.CT_SINGLE:for(o=e.getCardLogicValue(i[0]),d=0;d<L.singleCount;d++)u=L.singleCount-d-1,e.getCardLogicValue(L.singleCardData[u])>o&&(a.resultCard[a.resultCard.length]=[L.singleCardData[u]]);for(d=0;d<L.doubleCount;d++)u=2*(L.doubleCount-d-1),e.getCardLogicValue(L.doubleCardData[u])>o&&(a.resultCard[a.resultCard.length]=[L.doubleCardData[u]]);for(d=0;d<L.threeCount;d++)u=3*(L.threeCount-d-1),e.getCardLogicValue(L.threeCardData[u])>o&&(a.resultCard[a.resultCard.length]=[L.threeCardData[u]]);for(d=0;d<L.fourCount;d++)u=4*(L.fourCount-d-1),e.getCardLogicValue(L.fourCardData[u])>o&&(a.resultCard[a.resultCard.length]=[L.fourCardData[u]]);break;case e.CT_DOUBLE:if(r>E)break;for(o=e.getCardLogicValue(i[0]),d=0;d<L.doubleCount;d++)u=2*(L.doubleCount-d-1),e.getCardLogicValue(L.doubleCardData[u])>o&&(a.resultCard[a.resultCard.length]=L.doubleCardData.slice(u,u+2));for(d=0;d<L.threeCount;d++)u=3*(L.threeCount-d-1),e.getCardLogicValue(L.threeCardData[u])>o&&(a.resultCard[a.resultCard.length]=L.threeCardData.slice(u,u+2));for(d=0;d<L.fourCount;d++)u=4*(L.fourCount-d-1),e.getCardLogicValue(L.fourCardData[u])>o&&(a.resultCard[a.resultCard.length]=L.fourCardData.slice(u,u+2));break;case e.CT_THREE:if(r>E)break;for(o=e.getCardLogicValue(i[0]),d=0;d<L.threeCount;d++)u=3*(L.threeCount-d-1),e.getCardLogicValue(L.threeCardData[u])>o&&(a.resultCard[a.resultCard.length]=L.threeCardData.slice(u,u+3));for(d=0;d<L.fourCount;d++)u=4*(L.fourCount-d-1),e.getCardLogicValue(L.fourCardData[u])>o&&(a.resultCard[a.resultCard.length]=L.fourCardData.slice(u,u+3));break;case e.CT_SINGLE_LINE:if(r>E)break;g=[];var _=0;for(d=0;E>d;d++)e.getCardLogicValue(f[d])!=e.getCardLogicValue(f[d+1])?(g.push(f[d-_]),_=0):_++;for(C=g.length,o=e.getCardLogicValue(i[0]),d=r-1;C>d&&(m=e.getCardLogicValue(g[C-d-1]),!(m>=15));d++)if(!(o>=m)){var v=0,p=[];for(h=C-d-1;C>h;h++)if(e.getCardLogicValue(g[h])+v==m&&(p[v++]=g[h],v==r)){a.resultCard[a.resultCard.length]=p;break}}break;case e.CT_DOUBLE_LINE:if(r>E)break;for(o=e.getCardLogicValue(i[0]),d=r-1;E>d;d++)if(m=e.getCardLogicValue(f[E-d-1]),!(o>=m)){if(r>1&&m>=15)break;var y,T=0,I=[];for(h=E-d-1;E-1>h;h++)if(e.getCardLogicValue(f[h])+T==m&&e.getCardLogicValue(f[h+1])+T==m&&(I[2*T]=f[h],I[2*T++ +1]=f[h+1],2*T==r)){y=a.resultCard[a.resultCard.length-1],null==y||e.getCardLogicValue(y[0])!=e.getCardLogicValue(I[0])?a.resultCard[a.resultCard.length]=I:a.resultCard[a.resultCard.length-1]=I;break}}break;case e.CT_THREE_LINE:if(r>E)break;if(r>E)break;for(o=e.getCardLogicValue(i[0]),d=r-1;E>d;d++)if(m=e.getCardLogicValue(f[E-d-1]),!(o>=m)){if(r>1&&m>=15)break;var b,S=0,R=[];for(h=E-d-1;E-1>h;h++)if(e.getCardLogicValue(f[h])+S==m&&e.getCardLogicValue(f[h+1])+S==m&&e.getCardLogicValue(f[h+2])+S==m&&(R[3*S]=f[h],R[3*S+1]=f[h+1],R[3*S+2]=f[h+2],S++,3*S==r)){b=a.resultCard[a.resultCard.length-1],null==b||e.getCardLogicValue(b[0])!=e.getCardLogicValue(R[0])?a.resultCard[a.resultCard.length]=R:a.resultCard[a.resultCard.length-1]=R;break}}break;case e.CT_THREE_LINE_TAKE_ONE_SINGLE:if(r>E)break;break;case e.CT_THREE_LINE_TAKE_ONE_PAIR:if(r>E)break;break;case e.CT_FOUR_TAKE_TWO_SINGLE:if(r>E)break;o=e.getCardLogicValue(i[0]);var P,M=[];for(l=0;l<L.fourCount;l++)if(u=4*(L.fourCount-l-1),!(e.getCardLogicValue(L.fourCardData[u])<o)){for(M=[L.fourCardData[u],L.fourCardData[u+1],L.fourCardData[u+2],L.fourCardData[u+3]],P=[],d=0;d<L.singleCount;d++)u=L.singleCount-d-1,P[P.length]=L.singleCardData[u];for(h=0;h<P.length-1;h++)for(c=h+1;c<P.length;c++)a.resultCard[a.resultCard.length]=[M[0],M[1],M[2],M[3],P[h],P[c]];if(a.resultCard.length>0)break;for(d=0;d<L.doubleCount;d++)u=2*(L.doubleCount-d-1),P[P.length]=L.doubleCardData[u];for(h=0;h<P.length-1;h++)for(c=h+1;c<P.length;c++)a.resultCard[a.resultCard.length]=[M[0],M[1],M[2],M[3],P[h],P[c]];if(a.resultCard.length>0)break;for(d=0;d<L.threeCount;d++)u=3*(L.threeCount-d-1),P[P.length]=L.threeCardData[u];for(h=0;h<P.length-1;h++)for(c=h+1;c<P.length;c++)a.resultCard[a.resultCard.length]=[M[0],M[1],M[2],M[3],P[h],P[c]];if(a.resultCard.length>0)break}break;case e.CT_FOUR_TAKE_TWO_PAIR:if(r>E)break;o=e.getCardLogicValue(i[0]);var O,M=[];for(l=0;l<L.fourCount;l++)if(u=4*(L.fourCount-l-1),!(e.getCardLogicValue(L.fourCardData[u])<o)){for(M=[L.fourCardData[u],L.fourCardData[u+1],L.fourCardData[u+2],L.fourCardData[u+3]],O=[],d=0;d<L.doubleCount;d++)u=2*(L.doubleCount-d-1),O[O.length]=[L.doubleCardData[u],L.doubleCardData[u+1]];for(h=0;h<O.length-1;h++)for(c=h+1;c<O.length;c++)a.resultCard[a.resultCard.length]=[M[0],M[1],M[2],M[3],O[h][0],O[h][1],O[c][0],O[c][1]];if(a.resultCard.length>0)break;for(d=0;d<L.threeCount;d++)u=3*(L.threeCount-d-1),O[O.length]=[L.threeCardData[u],L.threeCardData[u+1]];for(h=0;h<O.length-1;h++)for(c=L.doubleCount;c<O.length;c++)a.resultCard[a.resultCard.length]=[M[0],M[1],M[2],M[3],O[h][0],O[h][1],O[c][0],O[c][1]];if(a.resultCard.length>0)break}}if(s==e.CT_BOMB)for(o=e.getCardLogicValue(i[0]),d=0;d<L.fourCount;d++)u=4*(L.fourCount-d-1),e.getCardLogicValue(L.fourCardData[u])>o&&(a.resultCard[a.resultCard.length]=L.fourCardData.slice(u,u+4));else for(d=0;d<L.fourCount;d++)u=L.fourCount-d-1,a.resultCard[a.resultCard.length]=[L.fourCardData[4*u],L.fourCardData[4*u+1],L.fourCardData[4*u+2],L.fourCardData[4*u+3]];-1!=L.singleCardData.indexOf(78)&&-1!=L.singleCardData.indexOf(79)&&(a.resultCard[a.resultCard.length]=[79,78]),console.log("可出牌提示有:"+a.resultCard.length+"种");var A;for(var x in a.resultCard){A="";for(var N in a.resultCard[x])A+=a.resultCard[x][N].toString(16)+",";console.log(A)}return a.resultCard.length>0},e.CT_ERROR="错误类型",e.CT_SINGLE="单牌类型",e.CT_DOUBLE="对牌类型",e.CT_THREE="三条类型",e.CT_SINGLE_LINE="单连类型",e.CT_DOUBLE_LINE="对连类型",e.CT_THREE_LINE="三连类型",e.CT_THREE_LINE_TAKE_ONE_SINGLE="三带一单",e.CT_THREE_LINE_TAKE_ONE_PAIR="三带一对",e.CT_FOUR_TAKE_TWO_SINGLE="四带两单",e.CT_FOUR_TAKE_TWO_PAIR="四带两对",e.CT_BOMB="炸弹类型",e.CT_MISSILE="火箭类型",e.MASK_COLOR=240,e.MASK_VALUE=15,e}();egret.registerClass(GameLogic,"GameLogic");var OutCardResult=function(){function e(){this.resultCard=[]}var t=(__define,e);t.prototype;return e}();egret.registerClass(OutCardResult,"OutCardResult");var Config=function(){function e(){}var t=(__define,e);t.prototype;return e.getCardSource=function(e){return"lord_cards.lord_card_"+GameLogic.getCardColor(e)/16+"_"+GameLogic.getCardValue(e)},e.Normal="正常",e.Selected="选中",e.CardVerticalPos=460,e.CardVerticalSelectedOffset=42,e.CardVerticalSelectedPos=e.CardVerticalPos-e.CardVerticalSelectedOffset,e.BackCardVerticalOffset=106,e.CardWidth=155,e.CardHeight=216,e.CardHalfWidth=e.CardWidth>>1,e.CardHalfHeight=e.CardHeight>>1,e.CardGap=64,e.DealCardMoveDistance=4,e.DealCardDelayFrame=e.CardGap/e.DealCardMoveDistance/2,e.LordCardGap=58,e.Pokers=[1,17,33,49,2,18,34,50,3,19,35,51,4,20,36,52,5,21,37,53,6,22,38,54,7,23,39,55,8,24,40,56,9,25,41,57,10,26,42,58,11,27,43,59,12,28,44,60,13,29,45,61,78,79],e}();egret.registerClass(Config,"Config");var game;!function(e){var t=function(){function e(e,t){this.group=e,this.screenName=t}var t=(__define,e),n=t.prototype;return n.destroy=function(){this.group=null,this.screenName=null},e}();e.ScreenConfig=t,egret.registerClass(t,"game.ScreenConfig")}(game||(game={}));var BreathImage=function(e){function t(t,n,i){void 0===n&&(n=2e3),void 0===i&&(i=.05),e.call(this,t),this._duration=n,this._offset=i,this.init()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.init=function(){this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2},r.play=function(){this.t=0,egret.Tween.get(this,{loop:!0}).to({t:2*Math.PI},this._duration)},n(r,"t",function(){return this._t},function(e){this._t=e,this.scaleX=Math.sin(e)*this._offset+1,this.scaleY=Math.sin(e-Math.PI/2)*this._offset+1}),t}(egret.Bitmap);egret.registerClass(BreathImage,"BreathImage");var LordGame=function(e){function t(){e.call(this),this.playerPositions=[{x:124,y:146},{x:110,y:440},{x:1160,y:146}],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddToStage=function(e){this.players=new Array;for(var t,n=0;3>n;n++)0==n?(t=new gameui.Player,t.type=gameui.Player.LeftPlayer,this.players[this.players.length]=t,t.touchEnabled=!0,t.x=this.playerPositions[n].x,t.y=this.playerPositions[n].y,t.visible=!1,egret.setTimeout(function(e){e.scaleX=e.scaleY=.2,e.visible=!0,egret.Tween.get(e).wait(300).to({scaleX:.8,scaleY:.8},500,egret.Ease.getBackOut(2))},this,2e3,t)):2==n?(t=new gameui.Player,t.type=gameui.Player.RightPlayer,this.players[this.players.length]=t,t.touchEnabled=!0,t.x=this.playerPositions[n].x,t.y=this.playerPositions[n].y,t.visible=!1,egret.setTimeout(function(e){e.scaleX=-.2,e.scaleY=.2,e.visible=!0,egret.Tween.get(e).wait(300).to({scaleX:-.8,scaleY:.8},500,egret.Ease.getBackOut(2))},this,2e3,t)):(t=new gameui.Player,t.type=gameui.Player.MyPlayer,this.players[this.players.length]=t,t.touchEnabled=!0,t.x=this.playerPositions[n].x,t.y=this.playerPositions[n].y,t.visible=!1,egret.setTimeout(function(e){e.scaleX=e.scaleY=.2,e.visible=!0,egret.Tween.get(e).wait(300).to({scaleX:1,scaleY:1},500,egret.Ease.getBackOut(2))},this,2e3,t)),this.addChild(t)},t}(egret.Sprite);egret.registerClass(LordGame,"LordGame");var game;!function(e){var t=function(){function t(){}var n=(__define,t),i=n.prototype;return i.showScreen=function(n){if(!t.getInstance().activeScreen||t.getInstance().activeScreen.screenName!=n.screenName)if(null==n.group||""==n.group)this.onLoaded(n.screenName);else switch(n.screenName){case"lordLobby":e.LoadingManager.getInstance().load(gameui.LordLobbySplash,n,this.onLoaded,this.onFailed)}},i.onLoaded=function(n){if(null!=n&&""!=n){switch(t.getInstance().activeScreen&&(t.getInstance().activeScreen.destroy(),e.ChessGameRoom.getInstance().screenLayer.removeChild(t.getInstance().activeScreen)),n){case"lobby":t.getInstance().activeScreen=new gameui.LobbyScreen;break;case"lordLobby":t.getInstance().activeScreen=new gameui.LordLobbyScreen}e.ChessGameRoom.getInstance().screenLayer.addChild(e.ChessGameRoomManager.getInstance().activeScreen)}},i.onFailed=function(){},t.getInstance=function(){return this._instance||(this._instance=new e.ChessGameRoomManager),this._instance},t}();e.ChessGameRoomManager=t,egret.registerClass(t,"game.ChessGameRoomManager")}(game||(game={}));var game;!function(e){var t=function(){function t(){}var n=(__define,t),i=n.prototype;return i.playEffect=function(t,n,i,r,a,s,o){void 0===o&&(o=null);var d=RES.getRes(t),h=RES.getRes(n),c=new egret.MovieClipDataFactory(d,h),l=new egret.MovieClip(c.generateMovieClipData(i));l.addEventListener(egret.Event.COMPLETE,function(e){l.parent.removeChild(l)},this),l.x=r,l.y=a,l.play(s),o?o.addChild(l):e.ChessGameRoom.getInstance().effectLayer.addChild(l)},t.getInstance=function(){return this._instance||(this._instance=new e.EffectManager),this._instance},t}();e.EffectManager=t,egret.registerClass(t,"game.EffectManager")}(game||(game={}));var game;!function(e){var t=function(){function t(){}var n=(__define,t),i=n.prototype;return i.load=function(t,n,i,r){this.loadingScreenConfig&&this.loadingScreenConfig.group==n.group||(this.loadingScreenConfig=n,this.onLoaded=i,this.onFailed=r,this.splash=new t,e.ChessGameRoom.getInstance().loadingLayer.addChild(this.splash),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup(n.group))},i.onResourceLoadComplete=function(t){t.groupName==this.loadingScreenConfig.group&&(e.ChessGameRoom.getInstance().loadingLayer.removeChild(this.splash),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.onLoaded(this.loadingScreenConfig.screenName),this.loadingScreenConfig.destroy())},i.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load"),this.loadingScreenConfig.destroy()},i.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),e.ChessGameRoom.getInstance().loadingLayer.removeChild(this.splash),this.loadingScreenConfig.destroy(),this.onFailed()},i.onResourceProgress=function(e){e.groupName==this.loadingScreenConfig.group},t.getInstance=function(){return this._instance||(this._instance=new e.LoadingManager),this._instance},t}();e.LoadingManager=t,egret.registerClass(t,"game.LoadingManager")}(game||(game={}));var game;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.shffle=function(t){for(var n=t.length;n>=1;n--)e.swap(t,n-1,Math.floor(Math.random()*n))},e.swap=function(e,t,n){var i=e[t];e[t]=e[n],e[n]=i},e}();e.ArrayUtil=t,egret.registerClass(t,"game.ArrayUtil")}(game||(game={}));var game;!function(e){var t=function(){function e(e){this.className=e,this.list=[]}var t=(__define,e),n=t.prototype;return n.borrowObject=function(){if(this.list.length>0)return this.list.shift();var e=egret.getDefinitionByName(this.className);return new e},n.returnObject=function(e){this.list.push(e)},e.getPool=function(t){return e.pool[t]||(e.pool[t]=new e(t)),e.pool[t]},e.pool={},e}();e.PoolUtil=t,egret.registerClass(t,"game.PoolUtil")}(game||(game={}));var game;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.limit=function(e,t){e=Math.min(e,t),t=Math.max(e,t);var n=t-e;return e+Math.random()*n},e.limitInteger=function(e,t){return Math.round(this.limit(e,t))},e.randomFromArray=function(e){var t=Math.floor(Math.random()*e.length);return e[t]},e}();e.RandomUtil=t,egret.registerClass(t,"game.RandomUtil")}(game||(game={}));var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var n=(__define,t),i=n.prototype;return i.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},i.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.apply(this,arguments),this.isThemeLoadEnd=!1,this.isResourceLoadEnd=!1}__extends(t,e);var n=(__define,t),i=n.prototype;return i.createChildren=function(){e.prototype.createChildren.call(this),Core.stage=this.stage;var t=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",t),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),this.addChild(game.ChessGameRoom.getInstance()),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},i.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},i.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},i.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},i.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},i.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},i.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},i.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},i.startCreateScene=function(){this.stage.dirtyRegionPolicy=egret.DirtyRegionPolicy.OFF,game.ApplicationFacade.getInstance().startUp(game.ChessGameRoom.getInstance()),game.ApplicationFacade.getInstance().sendNotification(game.ScreenCommand.SHOW,new game.ScreenConfig("","lobby"))},t}(eui.UILayer);egret.registerClass(Main,"Main");var game;!function(e){var t=function(e){function t(){e.call(this,t.NAME)}__extends(t,e);var n=(__define,t);n.prototype;return t.NAME="lordProxy",t}(puremvc.Proxy);e.LordProxy=t,egret.registerClass(t,"game.LordProxy")}(game||(game={}));var game;!function(e){var t=function(e){function t(){e.call(this,t.NAME)}__extends(t,e);var n=(__define,t);n.prototype;return t.NAME="userProxy",t}(puremvc.Proxy);e.UserProxy=t,egret.registerClass(t,"game.UserProxy")}(game||(game={}));var game;!function(e){var t=function(){function e(e){this.type=e}var t=(__define,e);t.prototype;return e.CallLord=0,e.NoCallLord=1,e.RobLord=2,e.NoRobLord=3,e}();e.CallVO=t,egret.registerClass(t,"game.CallVO")}(game||(game={}));var ThemeAdapter=function(){function e(){}var t=(__define,e),n=t.prototype;return n.getTheme=function(e,t,n,i){function r(e){t.call(i,e)}function a(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),n.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_TEXT)},e}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n)}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){e.getName()},n(r,"chessGameRoom",function(){return this.viewComponent}),t.NAME="ApplicationMediator",t}(puremvc.Mediator);e.ApplicationMediator=t,egret.registerClass(t,"game.ApplicationMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){},r.unregisterListeners=function(){},n(r,"bottomInfoBar",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.bottomInfoBar.destroy()},t.NAME="BottomInfoBarMediator",t}(puremvc.Mediator);e.BottomInfoBarMediator=t,egret.registerClass(t,"game.BottomInfoBarMediator")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.callLordBar.addEventListener(gameui.CallLordBar.CALL,this.onCall,this),this.callLordBar.addEventListener(gameui.CallLordBar.NO_CALL,this.onNoCall,this),this.callLordBar.addEventListener(gameui.CallLordBar.ROB,this.onRob,this),this.callLordBar.addEventListener(gameui.CallLordBar.NO_ROB,this.onNoRob,this)},a.unregisterListeners=function(){this.callLordBar.removeEventListener(gameui.CallLordBar.CALL,this.onCall,this),this.callLordBar.removeEventListener(gameui.CallLordBar.NO_CALL,this.onNoCall,this),this.callLordBar.removeEventListener(gameui.CallLordBar.ROB,this.onRob,this),this.callLordBar.removeEventListener(gameui.CallLordBar.NO_ROB,this.onNoRob,this)},a.onCall=function(t){new e.CallVO(e.CallVO.CallLord)},a.onNoCall=function(t){new e.CallVO(e.CallVO.NoCallLord)},a.onRob=function(t){new e.CallVO(e.CallVO.RobLord)},a.onNoRob=function(t){new e.CallVO(e.CallVO.NoRobLord)},i(a,"callLordBar",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){},a.onRemove=function(){this.unregisterListeners(),this.callLordBar.destroy()},n.NAME="CallLordBarMediator",n}(puremvc.Mediator);e.CallLordBarMediator=t,egret.registerClass(t,"game.CallLordBarMediator")}(game||(game={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.left=0,this.bottom=0,this.skinName="skins.bar_bottomInfo_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){game.ApplicationFacade.getInstance().registerMediator(new game.BottomInfoBarMediator(this))},i.updateBar=function(e,t){this.playerName=e,this.playerGold=t,this.nameLabel.text=this.playerName,this.goldLabel.text=this.playerGold+""},i.destroy=function(){},t}(eui.Panel);e.BottomInfoBar=t,egret.registerClass(t,"gameui.BottomInfoBar")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(t){e.call(this),this.timer=new egret.Timer(1e3,t),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete,this),this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onTimer=function(){var e=this.timer.repeatCount-this.timer.currentCount;1==this.timer.currentCount&&(this.clockImage.source=RES.getRes("lord_clock_bg_png")),5==e&&(this.clockImage.source=RES.getRes("lord_clock_red_bg_png")),this.clockLabel.text=e+""},i.onTimerComplete=function(){},i.onAddedToStage=function(e){var t=this.timer.repeatCount-this.timer.currentCount;this.clockLabel.text=t+"",this.timer.start()},t}(eui.Panel);e.GameClock=t,egret.registerClass(t,"gameui.GameClock")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(e){t.call(this,e),this.skinName="skins.bar_callLord",this.horizontalCenter=0,this.bottom=300}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){t.prototype.onAddedToStage.call(this,e),this.bindListeners()},r.bindListeners=function(){this.callBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.noCallBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.robBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.noRobBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this)},r.unbindListeners=function(){this.callBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.noCallBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.robBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.noRobBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this)},r.onTouchBtns=function(t){var n=t.target;switch(n){case this.callBtn:this.dispatchEvent(new egret.Event(e.CallLordBar.CALL));break;case this.noCallBtn:this.dispatchEvent(new egret.Event(e.CallLordBar.NO_CALL));break;case this.robBtn:this.dispatchEvent(new egret.Event(e.CallLordBar.ROB));break;case this.noRobBtn:this.dispatchEvent(new egret.Event(e.CallLordBar.NO_ROB))}},r.setMode=function(e){e==n.MODE_CALL?(this.callBtnGrop.visible=!0,this.robBtnGrop.visible=!1):(this.callBtnGrop.visible=!1,this.robBtnGrop.visible=!0)},r.destroy=function(){this.unbindListeners()},n.CALL="叫地主",n.NO_CALL="不叫",n.ROB="抢地主",n.NO_ROB="不抢",n.MODE_CALL="叫地主模式",n.MODE_ROB="抢地主模式",n}(e.GameClock);e.CallLordBar=t,egret.registerClass(t,"gameui.CallLordBar")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this._selected=!1,this._status=Config.Normal,this._shade=!1,this.skinName="skins.widget_card_skin"
}__extends(t,e);var n=__define,i=t,r=i.prototype;return n(r,"cardData",function(){return this._cardData},function(e){this._cardData=e,this.cardImage.source=Config.getCardSource(this._cardData)}),n(r,"selected",function(){return this._selected},function(e){this._selected!=e&&(this._selected=e,this._selected?(this.y-=Config.CardVerticalSelectedOffset,this.status=Config.Selected):(this.y+=Config.CardVerticalSelectedOffset,this.status=Config.Normal))}),n(r,"status",function(){return this._status},function(e){this._status=e}),n(r,"shade",function(){return this._shade},function(e){this._shade=e,this.shadeImage.visible=this._shade}),t}(eui.Component);e.Card=t,egret.registerClass(t,"gameui.Card")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.indicatorSelectedIndex=-1}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.indicatorSelectBar.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectBarItemTap,this)},n(r,"selectedIndex",function(){return this.indicatorSelectedIndex},function(e){this.indicatorSelectedIndex!=e&&(this.indicatorSelectedIndex=e,this.indicatorPageList.selectedIndex=e,this.indicatorSelectBar.selectedIndex=e,this.indicatorReady&&(egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},400,egret.Ease.sineOut).call(function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.indicatorPageList.touchChildren=!0},this),egret.Tween.get(this.indicatorSelectImage).to({x:this.indicatorSelectGap*this.selectedIndex},400,egret.Ease.sineOut)))}),r.ready=function(){this.indicatorReady=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.indicatorSelectBar.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectBarItemTap,this)},r.onSelectBarItemTap=function(e){this.selectedIndex=e.itemIndex},r.onStageTouchBegin=function(e){this.beganTime=egret.getTimer(),this.beganGlobalX=e.stageX,this.indicatorCurrentLeft=this.indicatorPageList.left,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this)},r.onStageTouchMove=function(e){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this);var t=e.stageX-this.beganGlobalX;0!=t&&(this.indicatorPageList.touchChildren=!1,this.indicatorPageList.left=this.indicatorCurrentLeft+t,Math.abs(t)>this.indicatorDefaultLeft+this.indicatorPageHalfWidth&&(t>0?this.selectedIndex>0?(this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.selectedIndex--):this.indicatorPageList.left=2*this.indicatorDefaultLeft+this.indicatorPageHalfWidth:this.selectedIndex<this.indicatorMaxIndex?(this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.selectedIndex++):this.indicatorPageList.left=this.indicatorCurrentLeft-this.indicatorPageHalfWidth-this.indicatorDefaultLeft))},r.onStageTouchEnd=function(e){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this);var t=e.stageX-this.beganGlobalX;if(0!=t){this.indicatorPageList.touchChildren=!0;var n=egret.getTimer()-this.beganTime;200>n?Math.abs(t)<20?egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},100,egret.Ease.sineOut):t>0?this.selectedIndex>0?this.selectedIndex--:egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},400,egret.Ease.sineOut):this.selectedIndex<this.indicatorMaxIndex?this.selectedIndex++:egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},400,egret.Ease.sineOut):Math.abs(t)<this.indicatorDefaultLeft+this.indicatorPageHalfWidth?egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},400,egret.Ease.sineOut):t>0?0==this.selectedIndex&&egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},200,egret.Ease.sineOut):this.selectedIndex==this.indicatorMaxIndex&&egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},200,egret.Ease.sineOut)}},t}(eui.Panel);e.Indicator=t,egret.registerClass(t,"gameui.Indicator")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.indicator_lobby_game_entry_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.indicatorPageList.dataProvider=new eui.ArrayCollection([[{icon:"gameEntry_1001_png",name:"斗地主合集",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1002_png",name:"德州扑克",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1003_png",name:"大众麻将",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1004_png",name:"捕鱼",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1005_png",name:"经典麻将",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1006_png",name:"百人拼十",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1007_png",name:"保皇",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1008_png",name:"炒底升级",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1009_png",name:"二人麻将",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1010_png",name:"干瞪眼",group:"lordGames",screenName:"lordLobby"}],[{icon:"gameEntry_1011_png",name:"拱猪",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1012_png",name:"金三顺",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1013_png",name:"卡当",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1014_png",name:"跑得快",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1015_png",name:"拼十",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1016_png",name:"三人麻将",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1017_png",name:"升级",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1018_png",name:"双扣",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1019_png",name:"四川麻将",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1020_png",name:"四人斗地主",group:"lordGames",screenName:"lordLobby"}],[{icon:"gameEntry_1021_png",name:"推倒胡",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1022_png",name:"挖坑",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1023_png",name:"血流成河",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1024_png",name:"血战麻将",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1025_png",name:"赢三张",group:"lordGames",screenName:"lordLobby"},{icon:"gameEntry_1026_png",name:"中国象棋",group:"lordGames",screenName:"lordLobby"}]]),this.indicatorPageWidth=1080,this.indicatorPageHalfWidth=this.indicatorPageWidth>>1,this.indicatorDefaultLeft=this.width-this.indicatorPageWidth>>1,this.indicatorPageList.left=this.indicatorDefaultLeft,this.indicatorMaxIndex=this.indicatorPageList.dataProvider.length-1,this.indicatorSelectBar.itemRendererSkinName="skins.widget_indicator_nav_skin",this.indicatorSelectBar.dataProvider=new eui.ArrayCollection(["1","2","3"]),this.selectedIndex=0,this.indicatorSelectGap=37,this.bindListeners()},i.bindListeners=function(){},i.unbindListeners=function(){},i.destroy=function(){e.prototype.destroy.call(this),this.unbindListeners()},t}(e.Indicator);e.LobbyGameEntryIndicator=t,egret.registerClass(t,"gameui.LobbyGameEntryIndicator")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.indicatorPage_lobby_game_entry_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.bindListeners()},r.bindListeners=function(){this.gameEntryList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onGameEntryItemTap,this)},r.onGameEntryItemTap=function(t){var n=new game.ScreenConfig(t.item.group,t.item.screenName);this.dispatchEvent(new egret.Event(e.LobbyGameEntryIndicatorPage.ENTER_GAME,!0,!1,n))},r.unbindListeners=function(){this.gameEntryList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onGameEntryItemTap,this)},r.destroy=function(){this.unbindListeners()},n.ENTER_GAME="enter_game",n}(eui.ItemRenderer);e.LobbyGameEntryIndicatorPage=t,egret.registerClass(t,"gameui.LobbyGameEntryIndicatorPage")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.destroy=function(){},t}(eui.Panel);e.Screen=t,egret.registerClass(t,"gameui.Screen",["gameui.IScreen"])}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.screenName="lobby",this.skinName="skins.screen_lobby_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.gameEntryIndicator.ready(),this.bindListeners(),game.ApplicationFacade.getInstance().registerMediator(new game.LobbyScreenMediator(this))},i.bindListeners=function(){},i.unbindListeners=function(){},i.destroy=function(){this.unbindListeners(),this.gameEntryIndicator.destroy(),game.ApplicationFacade.getInstance().removeMediator(game.LobbyScreenMediator.NAME)},t}(e.Screen);e.LobbyScreen=t,egret.registerClass(t,"gameui.LobbyScreen")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.screen_lord_lobby_skin",this.screenName="lordLobby";var e=RES.getRes("animation_lord_title_json"),n=RES.getRes("animation_lord_title_png"),i=new egret.MovieClipDataFactory(e,n);this.titleMovieClip=new egret.MovieClip(i.generateMovieClipData("lord_title")),this.titleMovieClip.x=Core.stageHalfWidth,this.titleMovieClip.y=66,this.titleMovieClip.stop(),this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.addChild(this.titleMovieClip),this.pkLordEnterBtn.name="pk",this.wildLordEnterBtn.name="wild",this.classicLordEnterBtn.name="classic",this.happyLordEnterBtn.name="happy",this.flashLordEnterBtn.name="flash",this.titleMovieClip.y=Core.stageHeight>>2,this.titleMovieClip.visible=!1,this.titleMovieClip.alpha=.1,this.titleMovieClip.scaleX=this.titleMovieClip.scaleY=3,egret.Tween.get(this.titleMovieClip).wait(200).call(function(){this.titleMovieClip.visible=!0},this).to({y:66,scaleX:1,scaleY:1,alpha:1},600,egret.Ease.backOut).wait(100).call(function(){this.titleMovieClip.gotoAndPlay(1)},this),this.bindListeners(),game.ApplicationFacade.getInstance().registerMediator(new game.LordLobbyScreenMediator(this))},r.bindListeners=function(){this.pkLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.wildLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.classicLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.happyLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.flashLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.returnHallBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReturnHallBtnTouch,this),this.matchSelect.addEventListener(e.LordMatchSelectScreen.LORD_MATCH_SELECT_EXIT,this.onLordMatchSelectExit,this)},r.onLordEnterTouch=function(t){var n=t.target;this.dispatchEvent(new egret.Event(e.LordLobbyScreen.ENTER_LORD,!1,!1,n.name))},r.onLordMatchSelectExit=function(t){this.dispatchEvent(new egret.Event(e.LordLobbyScreen.EXIT_LORD))},r.onReturnHallBtnTouch=function(t){this.dispatchEvent(new egret.Event(e.LordLobbyScreen.RETURN_HALL))},r.unbindListeners=function(){this.pkLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.wildLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.classicLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.happyLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.flashLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.returnHallBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onReturnHallBtnTouch,this),this.matchSelect.removeEventListener(e.LordMatchSelectScreen.LORD_MATCH_SELECT_EXIT,this.onLordMatchSelectExit,this)},r.destroy=function(){this.unbindListeners(),game.ApplicationFacade.getInstance().removeMediator(game.LordLobbyScreenMediator.NAME)},n.ENTER_LORD="enter_lord",n.EXIT_LORD="exit_lord",n.RETURN_HALL="return_hall",n}(e.Screen);e.LordLobbyScreen=t,egret.registerClass(t,"gameui.LordLobbyScreen")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.indicator_lord_match_item_select_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.indicatorPageList.dataProvider=new eui.ArrayCollection([[{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"}],[{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"}]]),this.indicatorPageWidth=1034,this.indicatorPageHalfWidth=this.indicatorPageWidth>>1,this.indicatorDefaultLeft=this.width-this.indicatorPageWidth>>1,this.indicatorPageList.left=this.indicatorDefaultLeft,this.indicatorMaxIndex=this.indicatorPageList.dataProvider.length-1,this.indicatorSelectBar.itemRendererSkinName="skins.widget_indicator_nav_skin",this.indicatorSelectBar.dataProvider=new eui.ArrayCollection(["1","2"]),this.selectedIndex=0,this.indicatorSelectGap=37,this.bindListeners()},i.bindListeners=function(){},i.unbindListeners=function(){},i.destroy=function(){e.prototype.destroy.call(this),this.unbindListeners()},t}(e.Indicator);e.LordMatchItemSelectIndicator=t,egret.registerClass(t,"gameui.LordMatchItemSelectIndicator")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.indicatorPage_lord_match_item_select_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.bindListeners()},r.bindListeners=function(){this.matchItemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onMatchItemTap,this)},r.onMatchItemTap=function(t){PopUpManager.addPopUp(new e.panel_join_match_skin,!0)},r.unbindListeners=function(){this.matchItemList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onMatchItemTap,this)},r.destroy=function(){this.unbindListeners()},n}(eui.ItemRenderer);e.LordMatchItemSelectIndicatorPage=t,egret.registerClass(t,"gameui.LordMatchItemSelectIndicatorPage")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.screen_lord_match_select_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.matchList.touchChildren=!0,this.matchList.itemRendererSkinName="skins.widget_lord_match_select_skin",this.bindListeners(),game.ApplicationFacade.getInstance().registerMediator(new game.LordMatchSelectScreenMediator(this))},r.bindListeners=function(){this.matchList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onMatchListItemTap,this),this.returnBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReturnBtnTouchTap,this)},r.unbindListeners=function(){this.matchList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onMatchListItemTap,this),this.returnBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onReturnBtnTouchTap,this)},r.onMatchListItemTap=function(t){this.titleImage.source="lobby_title_"+this.lordName+"_"+(this.matchList.selectedIndex+1)+"_png",this.dispatchEvent(new egret.Event(e.LordMatchSelectScreen.MATCH_SELECT,!1,!1,this.matchList.selectedIndex))},r.onReturnBtnTouchTap=function(t){this.matchItemSelectIndicator.selectedIndex>0?this.matchItemSelectIndicator.selectedIndex--:0==this.matchItemSelectIndicator.x?(this.titleImage.source="lobby_title_"+this.lordName+"_png",egret.Tween.get(this.matchList).to({x:0},600,egret.Ease.sineOut),egret.Tween.get(this.matchItemSelectIndicator).to({x:1280},600,egret.Ease.sineOut)):0==this.matchList.x&&this.dispatchEvent(new egret.Event(e.LordMatchSelectScreen.LORD_MATCH_SELECT_EXIT))},r.update=function(e){this.lordName=e,this.titleImage.source="lobby_title_"+this.lordName+"_png",this.matchList.dataProvider=new eui.ArrayCollection(["skins.btn_lord_zone_1_skin","skins.btn_lord_zone_2_skin","skins.btn_lord_zone_3_skin","skins.btn_lord_zone_4_skin"])},r.destroy=function(){this.unbindListeners(),this.matchItemSelectIndicator.destroy()},n.MATCH_SELECT="match_select",n.LORD_MATCH_SELECT_EXIT="lord_match_select_exit",n}(eui.Panel);e.LordMatchSelectScreen=t,egret.registerClass(t,"gameui.LordMatchSelectScreen")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.top=Config.CardVerticalPos,this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(t){this.myCards=[],this.selectedCardDatas=[],this.myCardContainer=new egret.Sprite,this.myCardContainer.touchChildren=!1,this.addChild(this.myCardContainer),this.moveCard=new e.Card,this.moveCard.y=0,this.moveCard.visible=!1,this.addChild(this.moveCard),this.myCardRect=new egret.Rectangle,this.dealCardHandler()},r.getSelectCardDatas=function(){this.selectedCardDatas.length=0;var e,t,n;for(e=0,t=this.myCards.length;t>e;e++)n=this.myCards[e],n.selected&&this.selectedCardDatas.push(n.cardData);return this.selectedCardDatas},r.unselectCards=function(){var e,t,n;for(e=0,t=this.myCards.length;t>e;e++)n=this.myCards[e],n.selected=!1},r.dealCardHandler=function(){this.dealCardFrameCount=0,game.ArrayUtil.shffle(Config.Pokers),this.myCardDatas=Config.Pokers.slice(0,17),this.myCardDatas.sort(GameLogic.sortOnLogicValueAndColor),this.extraCardDatas=Config.Pokers.slice(51,54),this.myTotalCardWidth=Config.CardGap*(this.myCardDatas.length-1)+Config.CardWidth,this.myCardFarLeftX=this.stage.stageWidth-this.myTotalCardWidth>>1,this.myCardFarRightX=this.myCardFarLeftX+Config.CardGap*(this.myCardDatas.length-1),this.myCardContainer.x=Config.CardGap*(this.myCardDatas.length-1)/2,this.moveCard.x=this.myCardFarLeftX+Config.CardGap*(this.myCardDatas.length-1)/2,this.moveCard.visible=!0,this.myCardRect.x=this.myCardFarLeftX,this.myCardRect.y=Config.CardVerticalPos,this.myCardRect.width=this.myTotalCardWidth,this.myCardRect.height=Config.CardHeight-Config.CardVerticalSelectedOffset,this.dealMyCardIndex=0,this.dealCards(),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},r.onEnterFrame=function(e){this.myCardContainer.x-=Config.DealCardMoveDistance,this.moveCard.x+=Config.DealCardMoveDistance,this.dealCardFrameCount++,this.dealCardFrameCount==Config.DealCardDelayFrame&&(this.dealCardFrameCount=0,this.dealCards()),this.moveCard.x>this.myCardFarRightX&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this.myTotalCardWidth=Config.CardGap*(this.myCardDatas.length-1)+Config.CardWidth,this.myCardFarLeftX=this.stage.stageWidth-this.myTotalCardWidth>>1,this.myCardRect.x=this.myCardFarLeftX,this.myCardRect.y=Config.CardVerticalPos,this.myCardRect.width=this.myTotalCardWidth,this.myCardRect.height=Config.CardHeight-Config.CardVerticalSelectedOffset,this.myCardContainer.x=0,this.moveCard.x=Config.CardGap*(this.myCardDatas.length-1),this.moveCard.visible=!1,this.bindListeners())},r.dealCards=function(){if(this.dealMyCardIndex<this.myCardDatas.length){this.dealMyCardIndex<this.myCardDatas.length-1&&(this.moveCard.cardData=this.myCardDatas[this.dealMyCardIndex+1]);var t=new e.Card;t.x=this.myCardFarLeftX+this.dealMyCardIndex*Config.CardGap,t.y=0,t.cardData=this.myCardDatas[this.dealMyCardIndex],this.myCards[this.myCards.length]=t,this.myCardContainer.addChild(t),this.dealMyCardIndex++}},r.onMyCardTouchBegin=function(e){game.ChessGameRoom.getInstance().replaceActivePanel(null);var t=e.target.parent;this.beganGlobalX=e.stageX,this.beganGlobalY=e.stageY,this.selectCardBeginIndex=this.myCards.indexOf(t),this.isBeginCertainSelect=this.myCardRect.contains(this.beganGlobalX,this.beganGlobalY),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMyCardTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onMyCardTouchEnd,this)},r.onMyCardTouchMove=function(e){var t,n,i;for(t=0,n=this.myCards.length-1;n>=t;t++)i=this.myCards[t],i.shade=!1;if(this.isBeginCertainSelect||this.beganGlobalY<this.myCardRect.y&&e.stageY>=this.myCardRect.y||this.beganGlobalY>this.myCardRect.bottom&&e.stageY<=this.myCardRect.bottom)for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),n=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);n>=t;t++)i=this.myCards[t],i.shade=!0;else if(this.beganGlobalY<this.myCardRect.y&&e.stageY<this.myCardRect.y)if(this.beganGlobalX<=e.stageX)for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),n=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);n>=t;t++)i=this.myCards[t],i.selected&&(i.shade=!0);else{for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=this.selectCardCurrentIndex,n=this.selectCardCurrentIndex<=1?0:this.selectCardCurrentIndex-2;t>=n;t--)if(i=this.myCards[t],i.selected&&this.myCardFarLeftX+t*Config.CardGap+Config.CardWidth>e.stageX){this.selectCardCurrentIndex=t;break}for(t=this.selectCardCurrentIndex,n=this.selectCardBeginIndex;n>=t;t++)i=this.myCards[t],i.selected&&(i.shade=!0)}else if(this.beganGlobalY>this.myCardRect.bottom&&e.stageY>this.myCardRect.bottom)if(this.beganGlobalX<=e.stageX)for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),n=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);n>=t;t++)i=this.myCards[t],i.selected||(i.shade=!0);else{for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=this.selectCardCurrentIndex,n=this.selectCardCurrentIndex<=1?0:this.selectCardCurrentIndex-2;t>=n;t--)if(i=this.myCards[t],!i.selected&&this.myCardFarLeftX+t*Config.CardGap+Config.CardWidth>e.stageX){this.selectCardCurrentIndex=t;break}for(t=this.selectCardCurrentIndex,n=this.selectCardBeginIndex;n>=t;t++)i=this.myCards[t],i.selected||(i.shade=!0)}},r.onMyCardTouchEnd=function(t){var n,i,r;if(this.isBeginCertainSelect||this.beganGlobalY<this.myCardRect.y&&t.stageY>=this.myCardRect.y||this.beganGlobalY>this.myCardRect.bottom&&t.stageY<=this.myCardRect.bottom)for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),i=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);i>=n;n++)r=this.myCards[n],r.selected=!r.selected,r.shade=!1;else if(this.beganGlobalY<this.myCardRect.y&&t.stageY<this.myCardRect.y)if(this.beganGlobalX<=t.stageX)for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),i=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);i>=n;n++)r=this.myCards[n],r.selected&&(r.selected=!r.selected,r.shade=!1);else{for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=this.selectCardCurrentIndex,i=this.selectCardCurrentIndex<=1?0:this.selectCardCurrentIndex-2;n>=i;n--)if(r=this.myCards[n],r.selected){if(this.myCardFarLeftX+n*Config.CardGap+Config.CardWidth>t.stageX){this.selectCardCurrentIndex=n;break}break}for(n=this.selectCardCurrentIndex,i=this.selectCardBeginIndex;i>=n;n++)r=this.myCards[n],r.selected&&(r.selected=!r.selected,r.shade=!1)}else if(this.beganGlobalY>this.myCardRect.bottom&&t.stageY>this.myCardRect.bottom)if(this.beganGlobalX<=t.stageX)for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),i=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);i>=n;n++)r=this.myCards[n],r.selected||(r.selected=!r.selected,r.shade=!1);else{for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=this.selectCardCurrentIndex,i=this.selectCardCurrentIndex<=1?0:this.selectCardCurrentIndex-2;n>=i;n--)if(r=this.myCards[n],!r.selected&&this.myCardFarLeftX+n*Config.CardGap+Config.CardWidth>t.stageX){this.selectCardCurrentIndex=n;break}for(n=this.selectCardCurrentIndex,i=this.selectCardBeginIndex;i>=n;n++)r=this.myCards[n],r.selected||(r.selected=!r.selected,r.shade=!1)}this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMyCardTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onMyCardTouchEnd,this),this.dispatchEvent(new egret.Event(e.MyCards.SELECT_CARDS,!1,!1))},r.bindListeners=function(){this.myCardContainer.touchChildren=!0,this.myCardContainer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMyCardTouchBegin,this)},r.unbindListeners=function(){this.myCardContainer.touchChildren=!1,this.myCardContainer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMyCardTouchBegin,this)},r.destroy=function(){this.unbindListeners()},n.SELECT_CARDS="selectCards",n}(eui.Panel);e.MyCards=t,egret.registerClass(t,"gameui.MyCards")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.panel_myPlayerInfo_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.emotionList.touchChildren=!0,this.emotionList.dataProvider=new eui.ArrayCollection(["self_emotion_icon_cool_png","self_emotion_icon_crazy_png","self_emotion_icon_cry_png","self_emotion_icon_laugh_png"]),this.emotionList.itemRendererSkinName="skins.widget_myEmotion_skin",this.bindListeners()},r.bindListeners=function(){this.emotionList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEmotionListItemTap,this)},r.unbindListeners=function(){this.emotionList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEmotionListItemTap,this)},r.onEmotionListItemTap=function(t){this.dispatchEvent(new egret.Event(e.MyPlayerInfoPanel.MY_EMOTION,!1,!1,this.emotionList.selectedIndex))},r.destroy=function(){this.unbindListeners()},n.MY_EMOTION="my_emotion",n}(eui.Panel);e.MyPlayerInfoPanel=t,egret.registerClass(t,"gameui.MyPlayerInfoPanel")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.panel_otherPlayerInfo_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.emotionList.touchChildren=!0,this.emotionList.dataProvider=new eui.ArrayCollection(["other_emotion_icon_gate_png","other_emotion_icon_kiss_png","other_emotion_icon_money_png","other_emotion_icon_rose_png"]),this.emotionList.itemRendererSkinName="skins.widget_otherEmotion_skin",this.bindListeners()},r.bindListeners=function(){this.emotionList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEmotionListItemTap,this)},r.unbindListeners=function(){this.emotionList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEmotionListItemTap,this)},r.onEmotionListItemTap=function(t){this.dispatchEvent(new egret.Event(e.OtherPlayerInfoPanel.OTHER_EMOTION,!1,!1,this.emotionList.selectedIndex))},r.destroy=function(){this.unbindListeners()},n.OTHER_EMOTION="other_emotion",n}(eui.Panel);e.OtherPlayerInfoPanel=t,egret.registerClass(t,"gameui.OtherPlayerInfoPanel")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.panel_join_match_skin",this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemovedFromStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.bindListeners()},i.onRemovedFromStage=function(e){this.unbindListeners()},i.bindListeners=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnClick,this)},i.unbindListeners=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnClick,this)
},i.onCloseBtnClick=function(e){PopUpManager.removePopUp(this)},i.destroy=function(){this.unbindListeners()},t}(eui.Panel);e.panel_join_match_skin=t,egret.registerClass(t,"gameui.panel_join_match_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.widget_playBackground_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.bindListeners()},r.bindListeners=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},r.unbindListeners=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},r.onTouchTap=function(){this.dispatchEvent(new egret.Event(e.PlayBackground.UNSELECT_CARDS,!1,!1))},r.destroy=function(){this.unbindListeners()},n.UNSELECT_CARDS="UNSELECT_CARDS",n}(eui.Component);e.PlayBackground=t,egret.registerClass(t,"gameui.PlayBackground")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(e){t.call(this,e),this.skinName="skins.bar_playCard",this.horizontalCenter=0,this.bottom=300}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){t.prototype.onAddedToStage.call(this,e),this.bindListeners()},r.bindListeners=function(){this.passBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.promptBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.productBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this)},r.unbindListeners=function(){this.passBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.promptBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.productBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this)},r.onTouchBtns=function(t){var n=t.target;switch(n){case this.passBtn:this.dispatchEvent(new egret.Event(e.PlayCardBar.PASS));break;case this.promptBtn:this.dispatchEvent(new egret.Event(e.PlayCardBar.PROMPT));break;case this.productBtn:this.dispatchEvent(new egret.Event(e.PlayCardBar.PRODUCT))}},r.destroy=function(){this.unbindListeners()},n.PASS="pass",n.PROMPT="prompt",n.PRODUCT="product",n}(e.GameClock);e.PlayCardBar=t,egret.registerClass(t,"gameui.PlayCardBar")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.widget_player_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.playerImage.source="lord_playerinfo_icon_farmer_face_to_right_png",this.anchorOffsetX=this.playerImage.width>>1,this.anchorOffsetY=this.playerImage.height>>1,this.bindListeners()},r.bindListeners=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this,!1)},r.unbindListeners=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this,!1)},r.onTouchTap=function(t){null==this.playerInfoPanel&&(this.type==n.MyPlayer?(this.playerInfoPanel=new e.MyPlayerInfoPanel,this.playerInfoPanel.left=180,this.playerInfoPanel.top=210):(this.playerInfoPanel=new e.OtherPlayerInfoPanel,this.playerInfoPanel.left=this.type==n.LeftPlayer?180:630,this.playerInfoPanel.top=20)),game.ChessGameRoom.getInstance().replaceActivePanel(this.playerInfoPanel),this.dispatchEvent(new egret.Event(e.Player.OPEN_PLAYER_INFO,!1,!1,this.type)),t.stopImmediatePropagation()},r.destroy=function(){this.unbindListeners()},n.OPEN_PLAYER_INFO="open_player_info",n.LeftPlayer="左边玩家",n.RightPlayer="右边玩家",n.MyPlayer="我",n}(eui.Component);e.Player=t,egret.registerClass(t,"gameui.Player")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.destroy=function(){},t}(eui.Panel);e.Splash=t,egret.registerClass(t,"gameui.Splash")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.splash_common_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.speed=6,this.loadingImage.anchorOffsetX=this.loadingImage.width>>1,this.loadingImage.anchorOffsetY=this.loadingImage.height>>1,this.loadingImage.x=this.width>>1,this.stage.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},i.onEnterFrame=function(e){this.loadingImage.rotation+=this.speed},i.destroy=function(){this.stage.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},t}(e.Splash);e.CommonSplash=t,egret.registerClass(t,"gameui.CommonSplash")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.splash_lord_lobby_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){},t}(e.Splash);e.LordLobbySplash=t,egret.registerClass(t,"gameui.LordLobbySplash")}(gameui||(gameui={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.lobbyScreen.addEventListener(gameui.LobbyGameEntryIndicatorPage.ENTER_GAME,this.onEnterGame,this)},a.onEnterGame=function(t){e.ApplicationFacade.getInstance().sendNotification(e.ScreenCommand.SHOW,t.data),t.stopPropagation()},a.unregisterListeners=function(){this.lobbyScreen.removeEventListener(gameui.LobbyGameEntryIndicatorPage.ENTER_GAME,this.onEnterGame,this)},i(a,"lobbyScreen",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){e.getName()},a.onRemove=function(){this.unregisterListeners(),this.lobbyScreen.destroy()},n.NAME="LobbyScreenMediator",n}(puremvc.Mediator);e.LobbyScreenMediator=t,egret.registerClass(t,"game.LobbyScreenMediator")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.lordLobbyScreen.addEventListener(gameui.LordLobbyScreen.ENTER_LORD,this.onEnterLord,this),this.lordLobbyScreen.addEventListener(gameui.LordLobbyScreen.EXIT_LORD,this.onExitLord,this),this.lordLobbyScreen.addEventListener(gameui.LordLobbyScreen.RETURN_HALL,this.onReturnHall,this)},a.onEnterLord=function(e){var t=e.data;this.lordLobbyScreen.matchSelect.update(t),egret.Tween.get(this.lordLobbyScreen).to({x:-1280},800,egret.Ease.sineOut)},a.onExitLord=function(e){egret.Tween.get(this.lordLobbyScreen).to({x:0},800,egret.Ease.sineOut)},a.onReturnHall=function(t){e.ApplicationFacade.getInstance().sendNotification(e.ScreenCommand.SHOW,new e.ScreenConfig("","lobby"))},a.unregisterListeners=function(){this.lordLobbyScreen.removeEventListener(gameui.LordLobbyScreen.ENTER_LORD,this.onEnterLord,this),this.lordLobbyScreen.removeEventListener(gameui.LordLobbyScreen.EXIT_LORD,this.onExitLord,this),this.lordLobbyScreen.removeEventListener(gameui.LordLobbyScreen.RETURN_HALL,this.onReturnHall,this)},i(a,"lordLobbyScreen",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){e.getName()},a.onRemove=function(){this.unregisterListeners(),this.lordLobbyScreen.destroy()},n.NAME="LordLobbyScreenMediator",n}(puremvc.Mediator);e.LordLobbyScreenMediator=t,egret.registerClass(t,"game.LordLobbyScreenMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.selectedIndex=-1,this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.lordMatchSelectScreen.addEventListener(gameui.LordMatchSelectScreen.MATCH_SELECT,this.onMatchSelect,this)},r.onMatchSelect=function(e){egret.Tween.get(this.lordMatchSelectScreen.matchList).to({x:-1280},600,egret.Ease.sineOut),egret.Tween.get(this.lordMatchSelectScreen.matchItemSelectIndicator).to({x:0},600,egret.Ease.sineOut).call(this.lordMatchSelectScreen.matchItemSelectIndicator.ready)},r.unregisterListeners=function(){this.lordMatchSelectScreen.removeEventListener(gameui.LordMatchSelectScreen.MATCH_SELECT,this.onMatchSelect,this)},n(r,"lordMatchSelectScreen",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){e.getName()},r.onRemove=function(){this.unregisterListeners(),this.lordMatchSelectScreen.destroy()},t.NAME="LordMatchSelectScreenMediator",t}(puremvc.Mediator);e.LordMatchSelectScreenMediator=t,egret.registerClass(t,"game.LordMatchSelectScreenMediator")}(game||(game={}));var PopUpManager;!function(e){function t(e,t){if(void 0===t&&(t=!0),!game.ChessGameRoom.getInstance().panelLayer.contains(e)){var n=new egret.Sprite;n.graphics.beginFill(0,.5),n.graphics.drawRect(0,0,Core.stageWidth,Core.stageHeight),n.graphics.endFill(),n.width=Core.stageWidth,n.height=Core.stageHeight,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onModalSpriteTouchTap,this),game.ChessGameRoom.getInstance().panelLayer.addChild(n),egret.Tween.get(n).to({alpha:1},150),this.panelList[this.panelList.length]=e,this.modalSpriteList[this.modalSpriteList.length]=n,game.ChessGameRoom.getInstance().panelLayer.addChild(e),t&&(e.x=Core.stageHalfWidth-e.width/2,e.y=Core.stageHalfHeight-e.height/2)}}function n(e){this.removePopUp(this.panelList[this.panelList.length-1])}function i(e){var t=this.panelList.indexOf(e);this.panelList.splice(t,1);var n=this.modalSpriteList[t];this.modalSpriteList.splice(t,1);var i=function(){game.ChessGameRoom.getInstance().panelLayer.contains(n)&&game.ChessGameRoom.getInstance().panelLayer.removeChild(n),game.ChessGameRoom.getInstance().panelLayer.contains(e)&&game.ChessGameRoom.getInstance().panelLayer.removeChild(e)};egret.Tween.get(n).to({alpha:0},50),egret.Tween.get(n).to({alpha:0},50).call(i,this)}e.panelList=[],e.modalSpriteList=[],e.addPopUp=t,e.onModalSpriteTouchTap=n,e.removePopUp=i}(PopUpManager||(PopUpManager={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.myCards.addEventListener(gameui.MyCards.SELECT_CARDS,this.onSelectCards,this)},r.onSelectCards=function(e){},r.unregisterListeners=function(){this.myCards.removeEventListener(gameui.MyCards.SELECT_CARDS,this.onSelectCards,this)},n(r,"myCards",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){e.getName()},r.onRemove=function(){this.unregisterListeners(),this.myCards.destroy()},t.NAME="MyCardsMediator",t}(puremvc.Mediator);e.MyCardsMediator=t,egret.registerClass(t,"game.MyCardsMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.myPlayerInfoPanel.addEventListener(gameui.MyPlayerInfoPanel.MY_EMOTION,this.onMyEmotion,this)},r.unregisterListeners=function(){this.myPlayerInfoPanel.removeEventListener(gameui.MyPlayerInfoPanel.MY_EMOTION,this.onMyEmotion,this)},r.onMyEmotion=function(e){},n(r,"myPlayerInfoPanel",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.myPlayerInfoPanel.destroy()},t.NAME="MyPlayerInfoPanelMediator",t}(puremvc.Mediator);e.MyPlayerInfoPanelMediator=t,egret.registerClass(t,"game.MyPlayerInfoPanelMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.otherPlayerInfoPanel.addEventListener(gameui.OtherPlayerInfoPanel.OTHER_EMOTION,this.onOtherEmotion,this)},r.unregisterListeners=function(){this.otherPlayerInfoPanel.removeEventListener(gameui.OtherPlayerInfoPanel.OTHER_EMOTION,this.onOtherEmotion,this)},r.onOtherEmotion=function(e){},n(r,"otherPlayerInfoPanel",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.otherPlayerInfoPanel.destroy()},t.NAME="OtherPlayerInfoPanelMediator",t}(puremvc.Mediator);e.OtherPlayerInfoPanelMediator=t,egret.registerClass(t,"game.OtherPlayerInfoPanelMediator")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.playBackground.addEventListener(gameui.PlayBackground.UNSELECT_CARDS,this.onUnselectCards,this)},a.unregisterListeners=function(){this.playBackground.removeEventListener(gameui.PlayBackground.UNSELECT_CARDS,this.onUnselectCards,this)},a.onUnselectCards=function(){this.sendNotification(e.CardCommand.UNSELECT_CARD)},i(a,"playBackground",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){},a.onRemove=function(){this.unregisterListeners(),this.playBackground.destroy()},n.NAME="PlayBackgroundMediator",n}(puremvc.Mediator);e.PlayBackgroundMediator=t,egret.registerClass(t,"game.PlayBackgroundMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.playCardBar.addEventListener(gameui.PlayCardBar.PASS,this.onPass,this),this.playCardBar.addEventListener(gameui.PlayCardBar.PROMPT,this.onPrompt,this),this.playCardBar.addEventListener(gameui.PlayCardBar.PRODUCT,this.onProduct,this)},r.unregisterListeners=function(){this.playCardBar.removeEventListener(gameui.PlayCardBar.PASS,this.onPass,this),this.playCardBar.removeEventListener(gameui.PlayCardBar.PROMPT,this.onPrompt,this),this.playCardBar.removeEventListener(gameui.PlayCardBar.PRODUCT,this.onProduct,this)},r.onPass=function(e){},r.onPrompt=function(e){},r.onProduct=function(e){},n(r,"playCardBar",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.playCardBar.destroy()},t.NAME="PlayCardBarMediator",t}(puremvc.Mediator);e.PlayCardBarMediator=t,egret.registerClass(t,"game.PlayCardBarMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=(__define,t),i=n.prototype;return i.registerListeners=function(){var e=this.getPlayer();e.addEventListener(gameui.Player.OPEN_PLAYER_INFO,this.onOpenPlayerInfo,this)},i.unregisterListeners=function(){var e=this.getPlayer();e.removeEventListener(gameui.Player.OPEN_PLAYER_INFO,this.onOpenPlayerInfo,this)},i.onOpenPlayerInfo=function(e){},i.getPlayer=function(){return this.viewComponent},i.listNotificationInterests=function(){return[]},i.handleNotification=function(e){},i.onRemove=function(){this.unregisterListeners(),this.getPlayer().destroy()},t.NAME="PlayerMediator",t}(puremvc.Mediator);e.PlayerMediator=t,egret.registerClass(t,"game.PlayerMediator")}(game||(game={}));