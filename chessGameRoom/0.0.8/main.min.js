var game;!function(e){var t=function(t){function n(){t.call(this)}__extends(n,t);var i=(__define,n),r=i.prototype;return n.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},r.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(n.STARTUP,e.StartupCommand)},r.startUp=function(e){this.sendNotification(n.STARTUP,e),this.removeCommand(n.STARTUP)},n.STARTUP="startup",n}(puremvc.Facade);e.ApplicationFacade=t,egret.registerClass(t,"game.ApplicationFacade",["puremvc.IFacade","puremvc.INotifier"])}(game||(game={}));var AssetAdapter=function(){function e(){}var t=(__define,e),n=t.prototype;return n.getAsset=function(e,t,n){function i(i){t.call(n,i,e)}if(RES.hasRes(e)){var r=RES.getRes(e);r?i(r):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var game;!function(e){var t=function(t){function n(){t.call(this),this.screenLayer=new eui.UILayer,this.mainLayer=new eui.UILayer,this.panelLayer=new eui.UILayer,this.effectLayer=new eui.UILayer,this.maskLayer=new eui.UILayer,this.loadingLayer=new eui.UILayer,this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onApplicationTouchTap,this),this.touchThrough=!0,this.screenLayer.touchThrough=!0,this.mainLayer.touchThrough=!0,this.panelLayer.touchThrough=!0,this.effectLayer.touchThrough=!0,this.maskLayer.touchThrough=!0,this.loadingLayer.touchThrough=!0,this.addChild(this.screenLayer),this.addChild(this.mainLayer),this.addChild(this.panelLayer),this.addChild(this.effectLayer),this.addChild(this.maskLayer),this.addChild(this.loadingLayer)},r.onApplicationTouchTap=function(e){this.replaceActivePanel(null)},r.replaceActivePanel=function(e){return this.activePanel&&this.panelLayer.removeChild(this.activePanel),this.activePanel==e?void(this.activePanel=null):(this.activePanel=e,void(this.activePanel&&this.panelLayer.addChild(this.activePanel)))},n.getInstance=function(){return this._instance||(this._instance=new e.ChessGameRoom),this._instance},n}(eui.UILayer);e.ChessGameRoom=t,egret.registerClass(t,"game.ChessGameRoom")}(game||(game={}));var game;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.register=function(){this.facade.registerCommand(t.UNSELECT_CARD,t)},i.execute=function(e){e.getBody();switch(e.getName()){case t.UNSELECT_CARD:}},t.NAME="CardCommand",t.UNSELECT_CARD="unselectCards",t}(puremvc.SimpleCommand);e.CardCommand=t,egret.registerClass(t,"game.CardCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.call(this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.register=function(){this.facade.registerCommand(n.SHOW,n)},r.execute=function(t){var i=t.getBody();this.facade.retrieveMediator(e.ApplicationMediator.NAME);switch(t.getName()){case n.SHOW:e.ChessGameRoomManager.getInstance().showScreen(i)}},n.NAME="ScreenCommand",n.SHOW="show",n}(puremvc.SimpleCommand);e.ScreenCommand=t,egret.registerClass(t,"game.ScreenCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.apply(this,arguments)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.execute=function(t){(new e.ScreenCommand).register()},n}(puremvc.SimpleCommand);e.PrepControllerCommand=t,egret.registerClass(t,"game.PrepControllerCommand")}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.apply(this,arguments)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.execute=function(t){this.facade.registerProxy(new e.UserProxy),this.facade.registerProxy(new e.LordProxy)},n}(puremvc.SimpleCommand);e.PrepModelCommand=t,egret.registerClass(t,"game.PrepModelCommand")}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.apply(this,arguments)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.execute=function(t){var n=t.getBody();this.facade.registerMediator(new e.ApplicationMediator(n))},n}(puremvc.SimpleCommand);e.PrepViewCommand=t,egret.registerClass(t,"game.PrepViewCommand")}(game||(game={}));var game;!function(e){var t=function(t){function n(){t.call(this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.initializeMacroCommand=function(){this.addSubCommand(e.PrepControllerCommand),this.addSubCommand(e.PrepModelCommand),this.addSubCommand(e.PrepViewCommand)},n}(puremvc.MacroCommand);e.StartupCommand=t,egret.registerClass(t,"game.StartupCommand")}(game||(game={}));var Core=function(){function e(){}var t=__define,n=e;n.prototype;return t(e,"stageHalfWidth",function(){return e.stage.stageWidth>>1}),t(e,"stageHalfHeight",function(){return e.stage.stageHeight>>1}),t(e,"stageWidth",function(){return e.stage.stageWidth}),t(e,"stageHeight",function(){return e.stage.stageHeight}),e}();egret.registerClass(Core,"Core");var AnalyseResult=function(){function e(){this.fourCount=0,this.threeCount=0,this.doubleCount=0,this.singleCount=0,this.fourCardData=[],this.threeCardData=[],this.doubleCardData=[],this.singleCardData=[]}var t=(__define,e);t.prototype;return e}();egret.registerClass(AnalyseResult,"AnalyseResult");var GameLogic=function(){function e(){}var t=(__define,e);t.prototype;return e.getCardValue=function(t){return t&e.MASK_VALUE},e.getCardColor=function(t){return t&e.MASK_COLOR},e.getCardLogicValue=function(t){var n=e.getCardColor(t),i=e.getCardValue(t);return 64==n?i+2:2>=i?i+13:i},e.sortOnLogicValueAndColor=function(t,n){var i=e.getCardLogicValue(t),r=e.getCardLogicValue(n);if(i>r)return-1;if(r>i)return 1;var a=e.getCardColor(t),s=e.getCardColor(n);return a>s?-1:s>a?1:0},e.analyseCardData=function(t,n){var i,r,a,s=new AnalyseResult;for(r=0;n>r;r++){a=1,i=e.getCardLogicValue(t[r]);for(var o=r+1;n>o&&e.getCardLogicValue(t[o])==i;o++)a++;var d;switch(a){case 1:d=s.singleCount++,s.singleCardData[d*a]=t[r];break;case 2:d=s.doubleCount++,s.doubleCardData[d*a]=t[r],s.doubleCardData[d*a+1]=t[r+1];break;case 3:d=s.threeCount++,s.threeCardData[d*a]=t[r],s.threeCardData[d*a+1]=t[r+1],s.threeCardData[d*a+2]=t[r+2];break;case 4:d=s.fourCount++,s.fourCardData[d*a]=t[r],s.fourCardData[d*a+1]=t[r+1],s.fourCardData[d*a+2]=t[r+2],s.fourCardData[d*a+3]=t[r+3]}r+=a-1}return s},e.getCardType=function(t,n){switch(n){case 0:return e.CT_ERROR;case 1:return e.CT_SINGLE;case 2:return 79==t[0]&&78==t[1]?e.CT_MISSILE:e.getCardLogicValue(t[0])==e.getCardLogicValue(t[1])?e.CT_DOUBLE:e.CT_ERROR}var i=e.analyseCardData(t,n);if(i.fourCount>0)return 1==i.fourCount&&4==n?e.CT_BOMB:1==i.fourCount&&2==i.singleCount&&6==n?e.CT_FOUR_TAKE_TWO_SINGLE:1==i.fourCount&&2==i.doubleCount&&8==n?e.CT_FOUR_TAKE_TWO_PAIR:e.CT_ERROR;var r,a,s,o;if(i.threeCount>0){if(1==i.threeCount&&3==n)return e.CT_THREE;if(i.threeCount>1){if(r=i.threeCardData[0],a=e.getCardLogicValue(r),a>=15)return e.CT_ERROR;for(o=i.threeCount,s=1;o>s;s++)if(r=i.threeCardData[3*s],a!=e.getCardLogicValue(r)+s)return e.CT_ERROR}return 3*i.threeCount==n?e.CT_THREE_LINE:4*i.threeCount==n?e.CT_THREE_LINE_TAKE_ONE_SINGLE:5*i.threeCount==n?e.CT_THREE_LINE_TAKE_ONE_PAIR:e.CT_ERROR}if(i.doubleCount>=3){if(r=i.doubleCardData[0],a=e.getCardLogicValue(r),a>=15)return e.CT_ERROR;for(o=i.doubleCount,s=1;o>s;s++)if(r=i.doubleCardData[2*s],a!=e.getCardLogicValue(r)+s)return e.CT_ERROR;return 2*i.doubleCount==n?e.CT_DOUBLE_LINE:e.CT_ERROR}if(i.singleCount>=5&&i.singleCount==n){if(r=i.singleCardData[0],a=e.getCardLogicValue(r),a>=15)return e.CT_ERROR;for(o=i.singleCount,s=1;o>s;s++)if(r=i.singleCardData[s],a!=e.getCardLogicValue(r)+s)return e.CT_ERROR;return e.CT_SINGLE_LINE}return e.CT_ERROR},e.searchOutCard=function(t,n,i,r,a){var s=e.getCardType(i,r);if(s==e.CT_MISSILE)return!1;var o,d,h,l,c,g,u,m,_,C=t.concat(),f=n,E=e.analyseCardData(C,f);switch(s){case e.CT_SINGLE:for(o=e.getCardLogicValue(i[0]),d=0;d<E.singleCount;d++)g=E.singleCount-d-1,e.getCardLogicValue(E.singleCardData[g])>o&&(a.resultCard[a.resultCard.length]=[E.singleCardData[g]]);for(d=0;d<E.doubleCount;d++)g=2*(E.doubleCount-d-1),e.getCardLogicValue(E.doubleCardData[g])>o&&(a.resultCard[a.resultCard.length]=[E.doubleCardData[g]]);for(d=0;d<E.threeCount;d++)g=3*(E.threeCount-d-1),e.getCardLogicValue(E.threeCardData[g])>o&&(a.resultCard[a.resultCard.length]=[E.threeCardData[g]]);for(d=0;d<E.fourCount;d++)g=4*(E.fourCount-d-1),e.getCardLogicValue(E.fourCardData[g])>o&&(a.resultCard[a.resultCard.length]=[E.fourCardData[g]]);break;case e.CT_DOUBLE:if(r>f)break;for(o=e.getCardLogicValue(i[0]),d=0;d<E.doubleCount;d++)g=2*(E.doubleCount-d-1),e.getCardLogicValue(E.doubleCardData[g])>o&&(a.resultCard[a.resultCard.length]=E.doubleCardData.slice(g,g+2));for(d=0;d<E.threeCount;d++)g=3*(E.threeCount-d-1),e.getCardLogicValue(E.threeCardData[g])>o&&(a.resultCard[a.resultCard.length]=E.threeCardData.slice(g,g+2));for(d=0;d<E.fourCount;d++)g=4*(E.fourCount-d-1),e.getCardLogicValue(E.fourCardData[g])>o&&(a.resultCard[a.resultCard.length]=E.fourCardData.slice(g,g+2));break;case e.CT_THREE:if(r>f)break;for(o=e.getCardLogicValue(i[0]),d=0;d<E.threeCount;d++)g=3*(E.threeCount-d-1),e.getCardLogicValue(E.threeCardData[g])>o&&(a.resultCard[a.resultCard.length]=E.threeCardData.slice(g,g+3));for(d=0;d<E.fourCount;d++)g=4*(E.fourCount-d-1),e.getCardLogicValue(E.fourCardData[g])>o&&(a.resultCard[a.resultCard.length]=E.fourCardData.slice(g,g+3));break;case e.CT_SINGLE_LINE:if(r>f)break;u=[];var p=0;for(d=0;f>d;d++)e.getCardLogicValue(C[d])!=e.getCardLogicValue(C[d+1])?(u.push(C[d-p]),p=0):p++;for(m=u.length,o=e.getCardLogicValue(i[0]),d=r-1;m>d&&(_=e.getCardLogicValue(u[m-d-1]),!(_>=15));d++)if(!(o>=_)){var v=0,y=[];for(h=m-d-1;m>h;h++)if(e.getCardLogicValue(u[h])+v==_&&(y[v++]=u[h],v==r)){a.resultCard[a.resultCard.length]=y;break}}break;case e.CT_DOUBLE_LINE:if(r>f)break;for(o=e.getCardLogicValue(i[0]),d=r-1;f>d;d++)if(_=e.getCardLogicValue(C[f-d-1]),!(o>=_)){if(r>1&&_>=15)break;var L,T=0,b=[];for(h=f-d-1;f-1>h;h++)if(e.getCardLogicValue(C[h])+T==_&&e.getCardLogicValue(C[h+1])+T==_&&(b[2*T]=C[h],b[2*T++ +1]=C[h+1],2*T==r)){L=a.resultCard[a.resultCard.length-1],null==L||e.getCardLogicValue(L[0])!=e.getCardLogicValue(b[0])?a.resultCard[a.resultCard.length]=b:a.resultCard[a.resultCard.length-1]=b;break}}break;case e.CT_THREE_LINE:if(r>f)break;if(r>f)break;for(o=e.getCardLogicValue(i[0]),d=r-1;f>d;d++)if(_=e.getCardLogicValue(C[f-d-1]),!(o>=_)){if(r>1&&_>=15)break;var R,I=0,S=[];for(h=f-d-1;f-1>h;h++)if(e.getCardLogicValue(C[h])+I==_&&e.getCardLogicValue(C[h+1])+I==_&&e.getCardLogicValue(C[h+2])+I==_&&(S[3*I]=C[h],S[3*I+1]=C[h+1],S[3*I+2]=C[h+2],I++,3*I==r)){R=a.resultCard[a.resultCard.length-1],null==R||e.getCardLogicValue(R[0])!=e.getCardLogicValue(S[0])?a.resultCard[a.resultCard.length]=S:a.resultCard[a.resultCard.length-1]=S;break}}break;case e.CT_THREE_LINE_TAKE_ONE_SINGLE:if(r>f)break;break;case e.CT_THREE_LINE_TAKE_ONE_PAIR:if(r>f)break;break;case e.CT_FOUR_TAKE_TWO_SINGLE:if(r>f)break;o=e.getCardLogicValue(i[0]);var P,k=[];for(c=0;c<E.fourCount;c++)if(g=4*(E.fourCount-c-1),!(e.getCardLogicValue(E.fourCardData[g])<o)){for(k=[E.fourCardData[g],E.fourCardData[g+1],E.fourCardData[g+2],E.fourCardData[g+3]],P=[],d=0;d<E.singleCount;d++)g=E.singleCount-d-1,P[P.length]=E.singleCardData[g];for(h=0;h<P.length-1;h++)for(l=h+1;l<P.length;l++)a.resultCard[a.resultCard.length]=[k[0],k[1],k[2],k[3],P[h],P[l]];if(a.resultCard.length>0)break;for(d=0;d<E.doubleCount;d++)g=2*(E.doubleCount-d-1),P[P.length]=E.doubleCardData[g];for(h=0;h<P.length-1;h++)for(l=h+1;l<P.length;l++)a.resultCard[a.resultCard.length]=[k[0],k[1],k[2],k[3],P[h],P[l]];if(a.resultCard.length>0)break;for(d=0;d<E.threeCount;d++)g=3*(E.threeCount-d-1),P[P.length]=E.threeCardData[g];for(h=0;h<P.length-1;h++)for(l=h+1;l<P.length;l++)a.resultCard[a.resultCard.length]=[k[0],k[1],k[2],k[3],P[h],P[l]];if(a.resultCard.length>0)break}break;case e.CT_FOUR_TAKE_TWO_PAIR:if(r>f)break;o=e.getCardLogicValue(i[0]);var M,k=[];for(c=0;c<E.fourCount;c++)if(g=4*(E.fourCount-c-1),!(e.getCardLogicValue(E.fourCardData[g])<o)){for(k=[E.fourCardData[g],E.fourCardData[g+1],E.fourCardData[g+2],E.fourCardData[g+3]],M=[],d=0;d<E.doubleCount;d++)g=2*(E.doubleCount-d-1),M[M.length]=[E.doubleCardData[g],E.doubleCardData[g+1]];for(h=0;h<M.length-1;h++)for(l=h+1;l<M.length;l++)a.resultCard[a.resultCard.length]=[k[0],k[1],k[2],k[3],M[h][0],M[h][1],M[l][0],M[l][1]];if(a.resultCard.length>0)break;for(d=0;d<E.threeCount;d++)g=3*(E.threeCount-d-1),M[M.length]=[E.threeCardData[g],E.threeCardData[g+1]];for(h=0;h<M.length-1;h++)for(l=E.doubleCount;l<M.length;l++)a.resultCard[a.resultCard.length]=[k[0],k[1],k[2],k[3],M[h][0],M[h][1],M[l][0],M[l][1]];if(a.resultCard.length>0)break}}if(s==e.CT_BOMB)for(o=e.getCardLogicValue(i[0]),d=0;d<E.fourCount;d++)g=4*(E.fourCount-d-1),e.getCardLogicValue(E.fourCardData[g])>o&&(a.resultCard[a.resultCard.length]=E.fourCardData.slice(g,g+4));else for(d=0;d<E.fourCount;d++)g=E.fourCount-d-1,a.resultCard[a.resultCard.length]=[E.fourCardData[4*g],E.fourCardData[4*g+1],E.fourCardData[4*g+2],E.fourCardData[4*g+3]];-1!=E.singleCardData.indexOf(78)&&-1!=E.singleCardData.indexOf(79)&&(a.resultCard[a.resultCard.length]=[79,78]),console.log("可出牌提示有:"+a.resultCard.length+"种");var O;for(var A in a.resultCard){O="";for(var x in a.resultCard[A])O+=a.resultCard[A][x].toString(16)+",";console.log(O)}return a.resultCard.length>0},e.CT_ERROR="错误类型",e.CT_SINGLE="单牌类型",e.CT_DOUBLE="对牌类型",e.CT_THREE="三条类型",e.CT_SINGLE_LINE="单连类型",e.CT_DOUBLE_LINE="对连类型",e.CT_THREE_LINE="三连类型",e.CT_THREE_LINE_TAKE_ONE_SINGLE="三带一单",e.CT_THREE_LINE_TAKE_ONE_PAIR="三带一对",e.CT_FOUR_TAKE_TWO_SINGLE="四带两单",e.CT_FOUR_TAKE_TWO_PAIR="四带两对",e.CT_BOMB="炸弹类型",e.CT_MISSILE="火箭类型",e.MASK_COLOR=240,e.MASK_VALUE=15,e}();egret.registerClass(GameLogic,"GameLogic");var OutCardResult=function(){function e(){this.resultCard=[]}var t=(__define,e);t.prototype;return e}();egret.registerClass(OutCardResult,"OutCardResult");var Config=function(){function e(){}var t=(__define,e);t.prototype;return e.getCardSource=function(e){return"lord_cards.lord_card_"+GameLogic.getCardColor(e)/16+"_"+GameLogic.getCardValue(e)},e.Normal="正常",e.Selected="选中",e.CardVerticalPos=460,e.CardVerticalSelectedOffset=42,e.CardVerticalSelectedPos=e.CardVerticalPos-e.CardVerticalSelectedOffset,e.BackCardVerticalOffset=106,e.CardWidth=155,e.CardHeight=216,e.CardHalfWidth=e.CardWidth>>1,e.CardHalfHeight=e.CardHeight>>1,e.CardGap=64,e.DealCardMoveDistance=4,e.DealCardDelayFrame=e.CardGap/e.DealCardMoveDistance/2,e.LordCardGap=58,e.Pokers=[1,17,33,49,2,18,34,50,3,19,35,51,4,20,36,52,5,21,37,53,6,22,38,54,7,23,39,55,8,24,40,56,9,25,41,57,10,26,42,58,11,27,43,59,12,28,44,60,13,29,45,61,78,79],e}();egret.registerClass(Config,"Config");var game;!function(e){var t=function(){function e(e,t,n){void 0===n&&(n=null),this.group=e,this.screenName=t,this.data=n}var t=(__define,e),n=t.prototype;return n.destroy=function(){this.group=null,this.screenName=null,this.data=null},e}();e.ScreenConfig=t,egret.registerClass(t,"game.ScreenConfig")}(game||(game={}));var BreathImage=function(e){function t(t,n,i){void 0===n&&(n=2e3),void 0===i&&(i=.05),e.call(this,t),this._duration=n,this._offset=i,this.init()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.init=function(){this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2},r.play=function(){this.t=0,egret.Tween.get(this,{loop:!0}).to({t:2*Math.PI},this._duration)},n(r,"t",function(){return this._t},function(e){this._t=e,this.scaleX=Math.sin(e)*this._offset+1,this.scaleY=Math.sin(e-Math.PI/2)*this._offset+1}),t}(egret.Bitmap);egret.registerClass(BreathImage,"BreathImage");var LordGame=function(e){function t(){e.call(this),this.playerPositions=[{x:124,y:146},{x:110,y:440},{x:1160,y:146}],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddToStage=function(e){this.players=new Array;for(var t,n=0;3>n;n++)0==n?(t=new gameui.widget_player_skin,t.type=gameui.widget_player_skin.LeftPlayer,this.players[this.players.length]=t,t.touchEnabled=!0,t.x=this.playerPositions[n].x,t.y=this.playerPositions[n].y,t.visible=!1,egret.setTimeout(function(e){e.scaleX=e.scaleY=.2,e.visible=!0,egret.Tween.get(e).wait(300).to({scaleX:.8,scaleY:.8},500,egret.Ease.getBackOut(2))},this,2e3,t)):2==n?(t=new gameui.widget_player_skin,t.type=gameui.widget_player_skin.RightPlayer,this.players[this.players.length]=t,t.touchEnabled=!0,t.x=this.playerPositions[n].x,t.y=this.playerPositions[n].y,t.visible=!1,egret.setTimeout(function(e){e.scaleX=-.2,e.scaleY=.2,e.visible=!0,egret.Tween.get(e).wait(300).to({scaleX:-.8,scaleY:.8},500,egret.Ease.getBackOut(2))},this,2e3,t)):(t=new gameui.widget_player_skin,t.type=gameui.widget_player_skin.MyPlayer,this.players[this.players.length]=t,t.touchEnabled=!0,t.x=this.playerPositions[n].x,t.y=this.playerPositions[n].y,t.visible=!1,egret.setTimeout(function(e){e.scaleX=e.scaleY=.2,e.visible=!0,egret.Tween.get(e).wait(300).to({scaleX:1,scaleY:1},500,egret.Ease.getBackOut(2))},this,2e3,t)),this.addChild(t)},t}(egret.Sprite);egret.registerClass(LordGame,"LordGame");var game;!function(e){var t=function(){function t(){}var n=(__define,t),i=n.prototype;return i.showScreen=function(n){if(!t.getInstance().activeScreen||t.getInstance().activeScreen.screenConfig.screenName!=n.screenName)if(null==n.group||""==n.group)this.onLoaded(n);else switch(n.screenName){case"screen_lord_lobby_skin":e.LoadingManager.getInstance().load(gameui.LordLobbySplash,n,this.onLoaded,this.onFailed)}},i.onLoaded=function(n){if(null!=n.screenName&&""!=n.screenName){switch(t.getInstance().activeScreen&&(e.ChessGameRoom.getInstance().screenLayer.removeChild(t.getInstance().activeScreen),t.getInstance().activeScreen=null),n.screenName){case"screen_lobby_skin":t.getInstance().activeScreen=new gameui.screen_lobby_skin(n);break;case"screen_lord_lobby_skin":t.getInstance().activeScreen=new gameui.screen_lord_lobby_skin(n);break;case"screen_lord_match_select_skin":t.getInstance().activeScreen=new gameui.screen_lord_match_select_skin(n)}e.ChessGameRoom.getInstance().screenLayer.addChild(e.ChessGameRoomManager.getInstance().activeScreen)}},i.onFailed=function(){},t.getInstance=function(){return this._instance||(this._instance=new e.ChessGameRoomManager),this._instance},t}();e.ChessGameRoomManager=t,egret.registerClass(t,"game.ChessGameRoomManager")}(game||(game={}));var game;!function(e){var t=function(){function t(){}var n=(__define,t),i=n.prototype;return i.playEffect=function(t,n,i,r,a,s,o){void 0===o&&(o=null);var d=RES.getRes(t),h=RES.getRes(n),l=new egret.MovieClipDataFactory(d,h),c=new egret.MovieClip(l.generateMovieClipData(i));c.addEventListener(egret.Event.COMPLETE,function(e){c.parent.removeChild(c)},this),c.x=r,c.y=a,c.play(s),o?o.addChild(c):e.ChessGameRoom.getInstance().effectLayer.addChild(c)},t.getInstance=function(){return this._instance||(this._instance=new e.EffectManager),this._instance},t}();e.EffectManager=t,egret.registerClass(t,"game.EffectManager")}(game||(game={}));var game;!function(e){var t=function(){function t(){}var n=(__define,t),i=n.prototype;return i.load=function(t,n,i,r){this.loadingScreenConfig&&this.loadingScreenConfig.group==n.group||(this.loadingScreenConfig=n,this.onLoaded=i,this.onFailed=r,this.splash=new t,e.ChessGameRoom.getInstance().loadingLayer.addChild(this.splash),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup(n.group))},i.onResourceLoadComplete=function(t){t.groupName==this.loadingScreenConfig.group&&(e.ChessGameRoom.getInstance().loadingLayer.removeChild(this.splash),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.onLoaded(this.loadingScreenConfig),this.loadingScreenConfig.destroy())},i.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load"),this.loadingScreenConfig.destroy()},i.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),e.ChessGameRoom.getInstance().loadingLayer.removeChild(this.splash),this.loadingScreenConfig.destroy(),this.onFailed()},i.onResourceProgress=function(e){e.groupName==this.loadingScreenConfig.group},t.getInstance=function(){return this._instance||(this._instance=new e.LoadingManager),this._instance},t}();e.LoadingManager=t,egret.registerClass(t,"game.LoadingManager")}(game||(game={}));var game;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.shffle=function(t){for(var n=t.length;n>=1;n--)e.swap(t,n-1,Math.floor(Math.random()*n))},e.swap=function(e,t,n){var i=e[t];e[t]=e[n],e[n]=i},e}();e.ArrayUtil=t,egret.registerClass(t,"game.ArrayUtil")}(game||(game={}));var game;!function(e){var t=function(){function e(e){this.className=e,this.list=[]}var t=(__define,e),n=t.prototype;return n.borrowObject=function(){if(this.list.length>0)return this.list.shift();var e=egret.getDefinitionByName(this.className);return new e},n.returnObject=function(e){this.list.push(e)},e.getPool=function(t){return e.pool[t]||(e.pool[t]=new e(t)),e.pool[t]},e.pool={},e}();e.PoolUtil=t,egret.registerClass(t,"game.PoolUtil")}(game||(game={}));var game;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.limit=function(e,t){e=Math.min(e,t),t=Math.max(e,t);var n=t-e;return e+Math.random()*n},e.limitInteger=function(e,t){return Math.round(this.limit(e,t))},e.randomFromArray=function(e){var t=Math.floor(Math.random()*e.length);return e[t]},e}();e.RandomUtil=t,egret.registerClass(t,"game.RandomUtil")}(game||(game={}));var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var n=(__define,t),i=n.prototype;return i.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},i.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.apply(this,arguments),this.isThemeLoadEnd=!1,this.isResourceLoadEnd=!1}__extends(t,e);var n=(__define,t),i=n.prototype;return i.createChildren=function(){e.prototype.createChildren.call(this),Core.stage=this.stage;var t=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",t),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),this.addChild(game.ChessGameRoom.getInstance()),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},i.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},i.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},i.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},i.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},i.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},i.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},i.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},i.startCreateScene=function(){this.stage.dirtyRegionPolicy=egret.DirtyRegionPolicy.OFF,game.ApplicationFacade.getInstance().startUp(game.ChessGameRoom.getInstance()),game.ApplicationFacade.getInstance().sendNotification(game.ScreenCommand.SHOW,new game.ScreenConfig("","screen_lobby_skin",null))},t}(eui.UILayer);egret.registerClass(Main,"Main");var game;!function(e){var t=function(e){function t(){e.call(this,t.NAME)}__extends(t,e);var n=(__define,t);n.prototype;return t.NAME="lordProxy",t}(puremvc.Proxy);e.LordProxy=t,egret.registerClass(t,"game.LordProxy")}(game||(game={}));var game;!function(e){var t=function(e){function t(){e.call(this,t.NAME)}__extends(t,e);var n=(__define,t);n.prototype;return t.NAME="userProxy",t}(puremvc.Proxy);e.UserProxy=t,egret.registerClass(t,"game.UserProxy")}(game||(game={}));var game;!function(e){var t=function(){function e(e){this.type=e}var t=(__define,e);t.prototype;return e.CallLord=0,e.NoCallLord=1,e.RobLord=2,e.NoRobLord=3,e}();e.CallVO=t,egret.registerClass(t,"game.CallVO")}(game||(game={}));var ThemeAdapter=function(){function e(){}var t=(__define,e),n=t.prototype;return n.getTheme=function(e,t,n,i){function r(e){t.call(i,e)}function a(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),n.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_TEXT)},e}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n)}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){e.getName()},n(r,"chessGameRoom",function(){return this.viewComponent}),t.NAME="ApplicationMediator",t}(puremvc.Mediator);e.ApplicationMediator=t,egret.registerClass(t,"game.ApplicationMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){},r.unregisterListeners=function(){},n(r,"bar_my_info_skin",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.bar_my_info_skin.destroy()},t.NAME="BottomInfoBarMediator",t}(puremvc.Mediator);e.BottomInfoBarMediator=t,egret.registerClass(t,"game.BottomInfoBarMediator")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.bar_call_lord.addEventListener(gameui.bar_call_lord.CALL,this.onCall,this),this.bar_call_lord.addEventListener(gameui.bar_call_lord.NO_CALL,this.onNoCall,this),this.bar_call_lord.addEventListener(gameui.bar_call_lord.ROB,this.onRob,this),this.bar_call_lord.addEventListener(gameui.bar_call_lord.NO_ROB,this.onNoRob,this)},a.unregisterListeners=function(){this.bar_call_lord.removeEventListener(gameui.bar_call_lord.CALL,this.onCall,this),this.bar_call_lord.removeEventListener(gameui.bar_call_lord.NO_CALL,this.onNoCall,this),this.bar_call_lord.removeEventListener(gameui.bar_call_lord.ROB,this.onRob,this),this.bar_call_lord.removeEventListener(gameui.bar_call_lord.NO_ROB,this.onNoRob,this)},a.onCall=function(t){new e.CallVO(e.CallVO.CallLord)},a.onNoCall=function(t){new e.CallVO(e.CallVO.NoCallLord)},a.onRob=function(t){new e.CallVO(e.CallVO.RobLord)},a.onNoRob=function(t){new e.CallVO(e.CallVO.NoRobLord)},i(a,"bar_call_lord",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){},a.onRemove=function(){this.unregisterListeners(),this.bar_call_lord.destroy()},n.NAME="CallLordBarMediator",n}(puremvc.Mediator);e.CallLordBarMediator=t,egret.registerClass(t,"game.CallLordBarMediator")}(game||(game={}));var gameui;!function(e){var t=function(e){function t(t){e.call(this),this.timer=new egret.Timer(1e3,t),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerComplete,this),this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onTimer=function(){var e=this.timer.repeatCount-this.timer.currentCount;1==this.timer.currentCount&&(this.clockImage.source=RES.getRes("lord_clock_bg_png")),5==e&&(this.clockImage.source=RES.getRes("lord_clock_red_bg_png")),this.clockLabel.text=e+""},i.onTimerComplete=function(){},i.onAddedToStage=function(e){var t=this.timer.repeatCount-this.timer.currentCount;this.clockLabel.text=t+"",this.timer.start()},t}(eui.Panel);e.GameClock=t,egret.registerClass(t,"gameui.GameClock")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(e){t.call(this,e),this.skinName="skins.bar_call_lord",this.horizontalCenter=0,this.bottom=300}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){t.prototype.onAddedToStage.call(this,e),this.bindListeners()},r.bindListeners=function(){this.callBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.noCallBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.robBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.noRobBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this)},r.unbindListeners=function(){this.callBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.noCallBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.robBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.noRobBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this)},r.onTouchBtns=function(t){var n=t.target;switch(n){case this.callBtn:this.dispatchEvent(new egret.Event(e.bar_call_lord.CALL));break;case this.noCallBtn:this.dispatchEvent(new egret.Event(e.bar_call_lord.NO_CALL));break;case this.robBtn:this.dispatchEvent(new egret.Event(e.bar_call_lord.ROB));break;case this.noRobBtn:this.dispatchEvent(new egret.Event(e.bar_call_lord.NO_ROB))}},r.setMode=function(e){e==n.MODE_CALL?(this.callBtnGrop.visible=!0,this.robBtnGrop.visible=!1):(this.callBtnGrop.visible=!1,this.robBtnGrop.visible=!0)},r.destroy=function(){this.unbindListeners()},n.CALL="叫地主",n.NO_CALL="不叫",n.ROB="抢地主",n.NO_ROB="不抢",n.MODE_CALL="叫地主模式",n.MODE_ROB="抢地主模式",n}(e.GameClock);e.bar_call_lord=t,egret.registerClass(t,"gameui.bar_call_lord")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.left=0,this.bottom=0,this.skinName="skins.bar_my_info_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){game.ApplicationFacade.getInstance().registerMediator(new game.BottomInfoBarMediator(this))
},i.updateBar=function(e,t){this.playerName=e,this.playerGold=t,this.nameLabel.text=this.playerName,this.goldLabel.text=this.playerGold+""},i.destroy=function(){},t}(eui.Panel);e.bar_my_info_skin=t,egret.registerClass(t,"gameui.bar_my_info_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(e){t.call(this,e),this.skinName="skins.bar_play_card",this.horizontalCenter=0,this.bottom=300}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){t.prototype.onAddedToStage.call(this,e),this.bindListeners()},r.bindListeners=function(){this.passBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.promptBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.productBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this)},r.unbindListeners=function(){this.passBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.promptBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this),this.productBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtns,this)},r.onTouchBtns=function(t){var n=t.target;switch(n){case this.passBtn:this.dispatchEvent(new egret.Event(e.bar_play_card.PASS));break;case this.promptBtn:this.dispatchEvent(new egret.Event(e.bar_play_card.PROMPT));break;case this.productBtn:this.dispatchEvent(new egret.Event(e.bar_play_card.PRODUCT))}},r.destroy=function(){this.unbindListeners()},n.PASS="pass",n.PROMPT="prompt",n.PRODUCT="product",n}(e.GameClock);e.bar_play_card=t,egret.registerClass(t,"gameui.bar_play_card")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.indicatorSelectedIndex=-1}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.indicatorSelectBar.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectBarItemTap,this)},n(r,"selectedIndex",function(){return this.indicatorSelectedIndex},function(e){this.indicatorSelectedIndex!=e&&(this.indicatorSelectedIndex=e,this.indicatorPageList.selectedIndex=e,this.indicatorSelectBar.selectedIndex=e,this.indicatorReady&&(egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},400,egret.Ease.sineOut).call(function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.indicatorPageList.touchChildren=!0},this),egret.Tween.get(this.indicatorSelectImage).to({x:this.indicatorSelectGap*this.selectedIndex},400,egret.Ease.sineOut)))}),r.ready=function(){this.indicatorReady=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.indicatorSelectBar.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectBarItemTap,this)},r.onSelectBarItemTap=function(e){this.selectedIndex=e.itemIndex},r.onStageTouchBegin=function(e){this.beganTime=egret.getTimer(),this.beganGlobalX=e.stageX,this.indicatorCurrentLeft=this.indicatorPageList.left,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this)},r.onStageTouchMove=function(e){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this);var t=e.stageX-this.beganGlobalX;0!=t&&(this.indicatorPageList.touchChildren=!1,this.indicatorPageList.left=this.indicatorCurrentLeft+t,Math.abs(t)>this.indicatorDefaultLeft+this.indicatorPageHalfWidth&&(t>0?this.selectedIndex>0?(this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.selectedIndex--):this.indicatorPageList.left=2*this.indicatorDefaultLeft+this.indicatorPageHalfWidth:this.selectedIndex<this.indicatorMaxIndex?(this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.selectedIndex++):this.indicatorPageList.left=this.indicatorCurrentLeft-this.indicatorPageHalfWidth-this.indicatorDefaultLeft))},r.onStageTouchEnd=function(e){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this);var t=e.stageX-this.beganGlobalX;if(0!=t){this.indicatorPageList.touchChildren=!0;var n=egret.getTimer()-this.beganTime;200>n?Math.abs(t)<20?egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},100,egret.Ease.sineOut):t>0?this.selectedIndex>0?this.selectedIndex--:egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},400,egret.Ease.sineOut):this.selectedIndex<this.indicatorMaxIndex?this.selectedIndex++:egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},400,egret.Ease.sineOut):Math.abs(t)<this.indicatorDefaultLeft+this.indicatorPageHalfWidth?egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},400,egret.Ease.sineOut):t>0?0==this.selectedIndex&&egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},200,egret.Ease.sineOut):this.selectedIndex==this.indicatorMaxIndex&&egret.Tween.get(this.indicatorPageList).to({left:this.indicatorDefaultLeft-1280*this.selectedIndex},200,egret.Ease.sineOut)}},t}(eui.Component);e.Indicator=t,egret.registerClass(t,"gameui.Indicator")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.indicatorPage_lobby_game_entry_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onRemoveFromStage=function(e){this.destroy()},r.onAddedToStage=function(e){this.bindListeners()},r.bindListeners=function(){this.gameEntryList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onGameEntryItemTap,this)},r.onGameEntryItemTap=function(t){this.dispatchEvent(new egret.Event(e.indicatorPage_lobby_game_entry_skin.ENTER_GAME,!0,!1,t.item))},r.unbindListeners=function(){this.gameEntryList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onGameEntryItemTap,this)},r.destroy=function(){this.unbindListeners()},n.ENTER_GAME="enter_game",n}(eui.ItemRenderer);e.indicatorPage_lobby_game_entry_skin=t,egret.registerClass(t,"gameui.indicatorPage_lobby_game_entry_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.indicatorPage_lord_match_item_select_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onRemoveFromStage=function(e){this.destroy()},r.onAddedToStage=function(e){this.bindListeners()},r.bindListeners=function(){this.matchItemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onMatchItemTap,this)},r.onMatchItemTap=function(t){PopUpManager.addPopUp(new e.panel_join_match_skin,!0)},r.unbindListeners=function(){this.matchItemList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onMatchItemTap,this)},r.destroy=function(){this.unbindListeners()},n}(eui.ItemRenderer);e.indicatorPage_lord_match_item_select_skin=t,egret.registerClass(t,"gameui.indicatorPage_lord_match_item_select_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.indicator_lobby_game_entry_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.indicatorPageList.dataProvider=new eui.ArrayCollection([[{icon:"gameEntry_1001_png",name:"斗地主合集",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1002_png",name:"德州扑克",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1003_png",name:"大众麻将",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1004_png",name:"捕鱼",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1005_png",name:"经典麻将",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1006_png",name:"百人拼十",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1007_png",name:"保皇",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1008_png",name:"炒底升级",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1009_png",name:"二人麻将",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1010_png",name:"干瞪眼",group:"lordGames",screenName:"screen_lord_lobby_skin"}],[{icon:"gameEntry_1011_png",name:"拱猪",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1012_png",name:"金三顺",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1013_png",name:"卡当",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1014_png",name:"跑得快",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1015_png",name:"拼十",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1016_png",name:"三人麻将",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1017_png",name:"升级",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1018_png",name:"双扣",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1019_png",name:"四川麻将",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1020_png",name:"四人斗地主",group:"lordGames",screenName:"screen_lord_lobby_skin"}],[{icon:"gameEntry_1021_png",name:"推倒胡",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1022_png",name:"挖坑",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1023_png",name:"血流成河",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1024_png",name:"血战麻将",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1025_png",name:"赢三张",group:"lordGames",screenName:"screen_lord_lobby_skin"},{icon:"gameEntry_1026_png",name:"中国象棋",group:"lordGames",screenName:"screen_lord_lobby_skin"}]]),this.indicatorPageWidth=1080,this.indicatorPageHalfWidth=this.indicatorPageWidth>>1,this.indicatorDefaultLeft=this.width-this.indicatorPageWidth>>1,this.indicatorPageList.left=this.indicatorDefaultLeft,this.indicatorMaxIndex=this.indicatorPageList.dataProvider.length-1,this.indicatorSelectBar.itemRendererSkinName="skins.widget_indicator_nav_skin",this.indicatorSelectBar.dataProvider=new eui.ArrayCollection(["1","2","3"]),this.selectedIndex=0,this.indicatorSelectGap=37,this.bindListeners()},i.bindListeners=function(){},i.unbindListeners=function(){},i.destroy=function(){e.prototype.destroy.call(this),this.unbindListeners()},t}(e.Indicator);e.indicator_lobby_game_entry_skin=t,egret.registerClass(t,"gameui.indicator_lobby_game_entry_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.indicator_lord_match_item_select_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.indicatorPageList.dataProvider=new eui.ArrayCollection([[{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"}],[{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"},{name:"赢1元话费(免费报名)",playerNumbers:"10086人",explanation:"参赛积分赢金币啦！",time:"后天 21:03"}]]),this.indicatorPageWidth=1034,this.indicatorPageHalfWidth=this.indicatorPageWidth>>1,this.indicatorDefaultLeft=this.width-this.indicatorPageWidth>>1,this.indicatorPageList.left=this.indicatorDefaultLeft,this.indicatorMaxIndex=this.indicatorPageList.dataProvider.length-1,this.indicatorSelectBar.itemRendererSkinName="skins.widget_indicator_nav_skin",this.indicatorSelectBar.dataProvider=new eui.ArrayCollection(["1","2"]),this.selectedIndex=0,this.indicatorSelectGap=37,this.bindListeners()},i.bindListeners=function(){},i.unbindListeners=function(){},i.destroy=function(){e.prototype.destroy.call(this),this.unbindListeners()},t}(e.Indicator);e.indicator_lord_match_item_select_skin=t,egret.registerClass(t,"gameui.indicator_lord_match_item_select_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.top=Config.CardVerticalPos,this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(t){this.myCards=[],this.selectedCardDatas=[],this.myCardContainer=new egret.Sprite,this.myCardContainer.touchChildren=!1,this.addChild(this.myCardContainer),this.moveCard=new e.widget_card_skin,this.moveCard.y=0,this.moveCard.visible=!1,this.addChild(this.moveCard),this.myCardRect=new egret.Rectangle,this.dealCardHandler()},r.getSelectCardDatas=function(){this.selectedCardDatas.length=0;var e,t,n;for(e=0,t=this.myCards.length;t>e;e++)n=this.myCards[e],n.selected&&this.selectedCardDatas.push(n.cardData);return this.selectedCardDatas},r.unselectCards=function(){var e,t,n;for(e=0,t=this.myCards.length;t>e;e++)n=this.myCards[e],n.selected=!1},r.dealCardHandler=function(){this.dealCardFrameCount=0,game.ArrayUtil.shffle(Config.Pokers),this.myCardDatas=Config.Pokers.slice(0,17),this.myCardDatas.sort(GameLogic.sortOnLogicValueAndColor),this.extraCardDatas=Config.Pokers.slice(51,54),this.myTotalCardWidth=Config.CardGap*(this.myCardDatas.length-1)+Config.CardWidth,this.myCardFarLeftX=this.stage.stageWidth-this.myTotalCardWidth>>1,this.myCardFarRightX=this.myCardFarLeftX+Config.CardGap*(this.myCardDatas.length-1),this.myCardContainer.x=Config.CardGap*(this.myCardDatas.length-1)/2,this.moveCard.x=this.myCardFarLeftX+Config.CardGap*(this.myCardDatas.length-1)/2,this.moveCard.visible=!0,this.myCardRect.x=this.myCardFarLeftX,this.myCardRect.y=Config.CardVerticalPos,this.myCardRect.width=this.myTotalCardWidth,this.myCardRect.height=Config.CardHeight-Config.CardVerticalSelectedOffset,this.dealMyCardIndex=0,this.dealCards(),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},r.onEnterFrame=function(e){this.myCardContainer.x-=Config.DealCardMoveDistance,this.moveCard.x+=Config.DealCardMoveDistance,this.dealCardFrameCount++,this.dealCardFrameCount==Config.DealCardDelayFrame&&(this.dealCardFrameCount=0,this.dealCards()),this.moveCard.x>this.myCardFarRightX&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this.myTotalCardWidth=Config.CardGap*(this.myCardDatas.length-1)+Config.CardWidth,this.myCardFarLeftX=this.stage.stageWidth-this.myTotalCardWidth>>1,this.myCardRect.x=this.myCardFarLeftX,this.myCardRect.y=Config.CardVerticalPos,this.myCardRect.width=this.myTotalCardWidth,this.myCardRect.height=Config.CardHeight-Config.CardVerticalSelectedOffset,this.myCardContainer.x=0,this.moveCard.x=Config.CardGap*(this.myCardDatas.length-1),this.moveCard.visible=!1,this.bindListeners())},r.dealCards=function(){if(this.dealMyCardIndex<this.myCardDatas.length){this.dealMyCardIndex<this.myCardDatas.length-1&&(this.moveCard.cardData=this.myCardDatas[this.dealMyCardIndex+1]);var t=new e.widget_card_skin;t.x=this.myCardFarLeftX+this.dealMyCardIndex*Config.CardGap,t.y=0,t.cardData=this.myCardDatas[this.dealMyCardIndex],this.myCards[this.myCards.length]=t,this.myCardContainer.addChild(t),this.dealMyCardIndex++}},r.onMyCardTouchBegin=function(e){game.ChessGameRoom.getInstance().replaceActivePanel(null);var t=e.target.parent;this.beganGlobalX=e.stageX,this.beganGlobalY=e.stageY,this.selectCardBeginIndex=this.myCards.indexOf(t),this.isBeginCertainSelect=this.myCardRect.contains(this.beganGlobalX,this.beganGlobalY),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMyCardTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onMyCardTouchEnd,this)},r.onMyCardTouchMove=function(e){var t,n,i;for(t=0,n=this.myCards.length-1;n>=t;t++)i=this.myCards[t],i.shade=!1;if(this.isBeginCertainSelect||this.beganGlobalY<this.myCardRect.y&&e.stageY>=this.myCardRect.y||this.beganGlobalY>this.myCardRect.bottom&&e.stageY<=this.myCardRect.bottom)for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),n=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);n>=t;t++)i=this.myCards[t],i.shade=!0;else if(this.beganGlobalY<this.myCardRect.y&&e.stageY<this.myCardRect.y)if(this.beganGlobalX<=e.stageX)for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),n=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);n>=t;t++)i=this.myCards[t],i.selected&&(i.shade=!0);else{for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=this.selectCardCurrentIndex,n=this.selectCardCurrentIndex<=1?0:this.selectCardCurrentIndex-2;t>=n;t--)if(i=this.myCards[t],i.selected&&this.myCardFarLeftX+t*Config.CardGap+Config.CardWidth>e.stageX){this.selectCardCurrentIndex=t;break}for(t=this.selectCardCurrentIndex,n=this.selectCardBeginIndex;n>=t;t++)i=this.myCards[t],i.selected&&(i.shade=!0)}else if(this.beganGlobalY>this.myCardRect.bottom&&e.stageY>this.myCardRect.bottom)if(this.beganGlobalX<=e.stageX)for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),n=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);n>=t;t++)i=this.myCards[t],i.selected||(i.shade=!0);else{for(e.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((e.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),t=this.selectCardCurrentIndex,n=this.selectCardCurrentIndex<=1?0:this.selectCardCurrentIndex-2;t>=n;t--)if(i=this.myCards[t],!i.selected&&this.myCardFarLeftX+t*Config.CardGap+Config.CardWidth>e.stageX){this.selectCardCurrentIndex=t;break}for(t=this.selectCardCurrentIndex,n=this.selectCardBeginIndex;n>=t;t++)i=this.myCards[t],i.selected||(i.shade=!0)}},r.onMyCardTouchEnd=function(t){var n,i,r;if(this.isBeginCertainSelect||this.beganGlobalY<this.myCardRect.y&&t.stageY>=this.myCardRect.y||this.beganGlobalY>this.myCardRect.bottom&&t.stageY<=this.myCardRect.bottom)for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),i=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);i>=n;n++)r=this.myCards[n],r.selected=!r.selected,r.shade=!1;else if(this.beganGlobalY<this.myCardRect.y&&t.stageY<this.myCardRect.y)if(this.beganGlobalX<=t.stageX)for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),i=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);i>=n;n++)r=this.myCards[n],r.selected&&(r.selected=!r.selected,r.shade=!1);else{for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=this.selectCardCurrentIndex,i=this.selectCardCurrentIndex<=1?0:this.selectCardCurrentIndex-2;n>=i;n--)if(r=this.myCards[n],r.selected){if(this.myCardFarLeftX+n*Config.CardGap+Config.CardWidth>t.stageX){this.selectCardCurrentIndex=n;break}break}for(n=this.selectCardCurrentIndex,i=this.selectCardBeginIndex;i>=n;n++)r=this.myCards[n],r.selected&&(r.selected=!r.selected,r.shade=!1)}else if(this.beganGlobalY>this.myCardRect.bottom&&t.stageY>this.myCardRect.bottom)if(this.beganGlobalX<=t.stageX)for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=Math.min(this.selectCardBeginIndex,this.selectCardCurrentIndex),i=Math.max(this.selectCardBeginIndex,this.selectCardCurrentIndex);i>=n;n++)r=this.myCards[n],r.selected||(r.selected=!r.selected,r.shade=!1);else{for(t.stageX<this.myCardFarLeftX?this.selectCardCurrentIndex=0:(this.selectCardCurrentIndex=Math.floor((t.stageX-this.myCardFarLeftX)/Config.CardGap),this.selectCardCurrentIndex>=this.myCards.length-1&&(this.selectCardCurrentIndex=this.myCards.length-1)),n=this.selectCardCurrentIndex,i=this.selectCardCurrentIndex<=1?0:this.selectCardCurrentIndex-2;n>=i;n--)if(r=this.myCards[n],!r.selected&&this.myCardFarLeftX+n*Config.CardGap+Config.CardWidth>t.stageX){this.selectCardCurrentIndex=n;break}for(n=this.selectCardCurrentIndex,i=this.selectCardBeginIndex;i>=n;n++)r=this.myCards[n],r.selected||(r.selected=!r.selected,r.shade=!1)}this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMyCardTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onMyCardTouchEnd,this),this.dispatchEvent(new egret.Event(e.MyCards.SELECT_CARDS,!1,!1))},r.bindListeners=function(){this.myCardContainer.touchChildren=!0,this.myCardContainer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMyCardTouchBegin,this)},r.unbindListeners=function(){this.myCardContainer.touchChildren=!1,this.myCardContainer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMyCardTouchBegin,this)},r.destroy=function(){this.unbindListeners()},n.SELECT_CARDS="selectCards",n}(eui.Panel);e.MyCards=t,egret.registerClass(t,"gameui.MyCards")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.panel_join_match_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.onRemovedFromStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.bindListeners()},i.onRemovedFromStage=function(e){this.unbindListeners()},i.bindListeners=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnClick,this)},i.unbindListeners=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnClick,this)},i.onCloseBtnClick=function(e){PopUpManager.removePopUp(this)},i.destroy=function(){},t}(eui.Panel);e.panel_join_match_skin=t,egret.registerClass(t,"gameui.panel_join_match_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.panel_my_playerInfo_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.emotionList.touchChildren=!0,this.emotionList.dataProvider=new eui.ArrayCollection(["self_emotion_icon_cool_png","self_emotion_icon_crazy_png","self_emotion_icon_cry_png","self_emotion_icon_laugh_png"]),this.emotionList.itemRendererSkinName="skins.widget_myEmotion_skin",this.bindListeners()},r.bindListeners=function(){this.emotionList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEmotionListItemTap,this)},r.unbindListeners=function(){this.emotionList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEmotionListItemTap,this)},r.onEmotionListItemTap=function(t){this.dispatchEvent(new egret.Event(e.panel_my_playerInfo_skin.MY_EMOTION,!1,!1,this.emotionList.selectedIndex))},r.destroy=function(){this.unbindListeners()},n.MY_EMOTION="my_emotion",n}(eui.Panel);e.panel_my_playerInfo_skin=t,egret.registerClass(t,"gameui.panel_my_playerInfo_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.panel_other_playerInfo_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.emotionList.touchChildren=!0,this.emotionList.dataProvider=new eui.ArrayCollection(["other_emotion_icon_gate_png","other_emotion_icon_kiss_png","other_emotion_icon_money_png","other_emotion_icon_rose_png"]),this.emotionList.itemRendererSkinName="skins.widget_otherEmotion_skin",this.bindListeners()},r.bindListeners=function(){this.emotionList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEmotionListItemTap,this)},r.unbindListeners=function(){this.emotionList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEmotionListItemTap,this)},r.onEmotionListItemTap=function(t){this.dispatchEvent(new egret.Event(e.panel_other_playerInfo_skin.OTHER_EMOTION,!1,!1,this.emotionList.selectedIndex))},r.destroy=function(){this.unbindListeners()},n.OTHER_EMOTION="other_emotion",n}(eui.Panel);e.panel_other_playerInfo_skin=t,egret.registerClass(t,"gameui.panel_other_playerInfo_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(t){e.call(this),this.screenConfig=t}__extends(t,e);var n=(__define,t),i=n.prototype;return i.destroy=function(){},t}(eui.Component);e.Screen=t,egret.registerClass(t,"gameui.Screen",["gameui.IScreen"])}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(t){e.call(this,t),this.skinName="skins.screen_lobby_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onRemoveFromStage=function(e){this.destroy()},i.onAddedToStage=function(e){this.gameEntryIndicator.ready(),this.bindListeners(),game.ApplicationFacade.getInstance().registerMediator(new game.LobbyScreenMediator(this))},i.bindListeners=function(){},i.unbindListeners=function(){},i.destroy=function(){this.unbindListeners(),this.gameEntryIndicator.destroy(),game.ApplicationFacade.getInstance().removeMediator(game.LobbyScreenMediator.NAME)},t}(e.Screen);e.screen_lobby_skin=t,egret.registerClass(t,"gameui.screen_lobby_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(e){t.call(this,e),this.skinName="skins.screen_lord_lobby_skin";var n=RES.getRes("animation_lord_title_json"),i=RES.getRes("animation_lord_title_png"),r=new egret.MovieClipDataFactory(n,i);this.titleMovieClip=new egret.MovieClip(r.generateMovieClipData("lord_title")),this.titleMovieClip.x=Core.stageHalfWidth,this.titleMovieClip.y=66,this.titleMovieClip.stop(),this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onRemoveFromStage=function(e){this.destroy()},r.onAddedToStage=function(e){this.pkLordEnterBtn.name="pk",this.wildLordEnterBtn.name="wild",this.classicLordEnterBtn.name="classic",this.happyLordEnterBtn.name="happy",this.flashLordEnterBtn.name="flash";var t=RES.getRes("smoke_png"),n=RES.getRes("smoke_json"),i=RES.getRes("water_png"),r=RES.getRes("water_json");this.smokeParticleLeft=new particle.GravityParticleSystem(t,n),this.smokeParticleLeft.emitterX=0,this.smokeParticleLeft.emitterY=0,this.smokeParticleLeft.alpha=.6,this.smokeParticleLeft.scaleX=this.smokeParticleLeft.scaleY=.4,this.smokeContainerLeft.addChild(this.smokeParticleLeft),this.smokeParticleRight=new particle.GravityParticleSystem(t,n),this.smokeParticleRight.emitterX=0,this.smokeParticleRight.emitterY=0,this.smokeParticleRight.alpha=.6,this.smokeParticleRight.scaleX=this.smokeParticleRight.scaleY=.4,this.smokeContainerRight.addChild(this.smokeParticleRight),this.waterParticle=new particle.GravityParticleSystem(i,r),this.waterParticle.emitterX=0,this.waterParticle.emitterY=0,this.waterParticle.alpha=1,this.waterParticle.scaleX=this.waterParticle.scaleY=.4,this.waterContainer.addChild(this.waterParticle),this.titleMovieClip.y=Core.stageHeight>>3,this.titleMovieClip.visible=!1,this.titleMovieClip.alpha=.1,this.titleMovieClip.scaleX=this.titleMovieClip.scaleY=2,this.addChild(this.titleMovieClip),egret.Tween.get(this.titleMovieClip).wait(260).call(function(){this.titleMovieClip.visible=!0},this).to({y:66,scaleX:1,scaleY:1,alpha:1},600,egret.Ease.backOut).wait(100).call(function(){this.titleMovieClip.gotoAndPlay(1)},this),this.lord_enter_shadow.y=324,this.lordEnterGroup.touchChildren=!1,this.pkLordEnterBtn.top=148,this.pkLordEnterBtn.left=82,this.wildLordEnterBtn.top=180,this.wildLordEnterBtn.left=282,this.classicLordEnterBtn.top=176,this.classicLordEnterBtn.left=536,this.happyLordEnterBtn.top=204,this.happyLordEnterBtn.left=812,this.flashLordEnterBtn.top=170,this.flashLordEnterBtn.left=1048,this.label_pk_lord.x=62,this.label_pk_lord.y=428,this.label_wild_lord.x=280,this.label_wild_lord.y=460,this.label_classic_lord.x=526,this.label_classic_lord.y=490,this.label_happy_lord.x=798,this.label_happy_lord.y=450,this.label_flash_lord.x=1024,this.label_flash_lord.y=432,this.returnHallBtn.touchEnabled=!1,this.returnHallBtn.alpha=0,this.returnHallBtn.top=16,this.returnHallBtn.left=8,this.menuBtn.touchEnabled=!1,this.menuBtn.alpha=0,this.menuBtn.top=16,this.menuBtn.right=8,this.curtain_left.top=this.curtain_right.top=-20,this.curtain_left.left=this.curtain_right.right=-80,this.bg_far.y=-10,this.bg_floor.y=-20,this.bg_far.scaleX=this.bg_far.scaleY=this.bg_floor.scaleX=this.bg_floor.scaleY=1.1,egret.Tween.get(this.label_pk_lord).wait(200).to({x:70,y:418},460,egret.Ease.sineOut),egret.Tween.get(this.label_wild_lord).wait(200).to({x:288,y:450},460,egret.Ease.sineOut),egret.Tween.get(this.label_classic_lord).wait(200).to({x:530,y:480},460,egret.Ease.sineOut),egret.Tween.get(this.label_happy_lord).wait(200).to({x:790,y:440},460,egret.Ease.sineOut),egret.Tween.get(this.label_flash_lord).wait(200).to({x:1016,y:422},460,egret.Ease.sineOut),egret.Tween.get(this.lord_enter_shadow).wait(200).to({y:320},460,egret.Ease.sineOut),egret.Tween.get(this.pkLordEnterBtn).wait(200).to({top:158,left:90},460,egret.Ease.sineOut),egret.Tween.get(this.wildLordEnterBtn).wait(200).to({top:190,left:290},460,egret.Ease.sineOut),egret.Tween.get(this.classicLordEnterBtn).wait(200).to({top:190,left:540},460,egret.Ease.sineOut),egret.Tween.get(this.happyLordEnterBtn).wait(200).to({top:214,left:804},460,egret.Ease.sineOut),egret.Tween.get(this.flashLordEnterBtn).wait(200).to({top:180,left:1040},460,egret.Ease.sineOut),egret.Tween.get(this.bg_far).wait(200).to({y:0,scaleX:1,scaleY:1},460,egret.Ease.sineOut),egret.Tween.get(this.bg_floor).wait(200).to({y:0,scaleX:1,scaleY:1},460,egret.Ease.sineOut),egret.Tween.get(this.curtain_left).wait(200).to({top:0,left:0},460,egret.Ease.sineOut),egret.Tween.get(this.curtain_right).wait(200).to({top:0,right:0},460,egret.Ease.sineOut),egret.Tween.get(this.returnHallBtn).wait(200).to({alpha:1,top:20,left:20},460,egret.Ease.sineOut),egret.Tween.get(this.menuBtn).wait(200).to({alpha:1,top:20,right:20},460,egret.Ease.sineOut).call(function(){this.returnHallBtn.touchEnabled=!0,this.menuBtn.touchEnabled=!0,this.lordEnterGroup.touchChildren=!0,this.smokeParticleLeft.start(),this.smokeParticleRight.start(),this.waterParticle.start()
},this),this.bindListeners(),game.ApplicationFacade.getInstance().registerMediator(new game.LordLobbyScreenMediator(this))},r.bindListeners=function(){this.pkLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.wildLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.classicLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.happyLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.flashLordEnterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.returnHallBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReturnHallBtnTouch,this)},r.onLordEnterTouch=function(t){var n=t.target;this.dispatchEvent(new egret.Event(e.screen_lord_lobby_skin.ENTER_LORD,!1,!1,n.name))},r.onReturnHallBtnTouch=function(t){this.dispatchEvent(new egret.Event(e.screen_lord_lobby_skin.RETURN_HALL))},r.unbindListeners=function(){this.pkLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.wildLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.classicLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.happyLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.flashLordEnterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLordEnterTouch,this),this.returnHallBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onReturnHallBtnTouch,this)},r.destroy=function(){this.smokeParticleLeft.stop(),this.smokeParticleRight.stop(),this.waterParticle.stop(),this.unbindListeners(),game.ApplicationFacade.getInstance().removeMediator(game.LordLobbyScreenMediator.NAME)},n.ENTER_LORD="enter_lord",n.RETURN_HALL="return_hall",n}(e.Screen);e.screen_lord_lobby_skin=t,egret.registerClass(t,"gameui.screen_lord_lobby_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(e){t.call(this,e),this.skinName="skins.screen_lord_match_select_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onRemoveFromStage=function(e){this.destroy()},r.onAddedToStage=function(e){this.titleImage.source="lobby_title_"+this.screenConfig.data+"_png",this.titleImage.anchorOffsetY=this.titleImage.height>>1,this.matchList.dataProvider=new eui.ArrayCollection(["skins.btn_lord_zone_1_skin","skins.btn_lord_zone_2_skin","skins.btn_lord_zone_3_skin","skins.btn_lord_zone_4_skin"]),this.titleImage.alpha=0,this.matchList.touchChildren=this.matchList.visible=!1,egret.Tween.get(this.titleImage).wait(160).to({alpha:1},160,egret.Ease.sineOut),egret.Tween.get(this.matchList).wait(160).call(function(){this.matchList.visible=!0},this).to({y:220},500,egret.Ease.getBackOut(3)).call(function(){this.matchList.touchChildren=!0},this);var t=RES.getRes("smoke_png"),n=RES.getRes("smoke_json");this.smokeParticleLeft=new particle.GravityParticleSystem(t,n),this.smokeParticleLeft.start(),this.smokeParticleLeft.emitterX=0,this.smokeParticleLeft.emitterY=0,this.smokeParticleLeft.alpha=.6,this.smokeParticleLeft.scaleX=this.smokeParticleLeft.scaleY=.4,this.smokeContainerLeft.addChild(this.smokeParticleLeft),this.smokeParticleRight=new particle.GravityParticleSystem(t,n),this.smokeParticleRight.start(),this.smokeParticleRight.emitterX=0,this.smokeParticleRight.emitterY=0,this.smokeParticleRight.alpha=.6,this.smokeParticleRight.scaleX=this.smokeParticleRight.scaleY=.4,this.smokeContainerRight.addChild(this.smokeParticleRight);var i=RES.getRes("water_png"),r=RES.getRes("water_json");this.waterParticle=new particle.GravityParticleSystem(i,r),this.waterParticle.start(),this.waterParticle.emitterX=0,this.waterParticle.emitterY=0,this.waterParticle.alpha=1,this.waterParticle.scaleX=this.waterParticle.scaleY=.4,this.waterContainer.addChild(this.waterParticle),this.bindListeners(),game.ApplicationFacade.getInstance().registerMediator(new game.LordMatchSelectScreenMediator(this))},r.bindListeners=function(){this.matchList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onMatchListItemTap,this),this.returnBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReturnBtnTouchTap,this)},r.unbindListeners=function(){this.matchList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onMatchListItemTap,this),this.returnBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onReturnBtnTouchTap,this)},r.onMatchListItemTap=function(t){this.dispatchEvent(new egret.Event(e.screen_lord_match_select_skin.MATCH_SELECT))},r.onReturnBtnTouchTap=function(t){this.dispatchEvent(new egret.Event(e.screen_lord_match_select_skin.MATCH_RETURN))},r.destroy=function(){console.log("destroy-------------"),this.smokeParticleLeft.stop(),this.smokeParticleRight.stop(),this.waterParticle.stop(),this.smokeParticleLeft=null,this.smokeParticleRight=null,this.waterParticle=null,this.matchItemSelectIndicator.destroy(),this.unbindListeners(),game.ApplicationFacade.getInstance().removeMediator(game.LordMatchSelectScreenMediator.NAME)},n.MATCH_SELECT="match_select",n.MATCH_RETURN="match_return",n}(e.Screen);e.screen_lord_match_select_skin=t,egret.registerClass(t,"gameui.screen_lord_match_select_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.destroy=function(){},t}(eui.Panel);e.Splash=t,egret.registerClass(t,"gameui.Splash")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.splash_common_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){this.speed=6,this.loadingImage.anchorOffsetX=this.loadingImage.width>>1,this.loadingImage.anchorOffsetY=this.loadingImage.height>>1,this.loadingImage.x=this.width>>1,this.stage.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},i.onEnterFrame=function(e){this.loadingImage.rotation+=this.speed},i.destroy=function(){this.stage.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},t}(e.Splash);e.CommonSplash=t,egret.registerClass(t,"gameui.CommonSplash")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this.skinName="skins.splash_lord_lobby_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddedToStage=function(e){},t}(e.Splash);e.LordLobbySplash=t,egret.registerClass(t,"gameui.LordLobbySplash")}(gameui||(gameui={}));var gameui;!function(e){var t=function(e){function t(){e.call(this),this._selected=!1,this._status=Config.Normal,this._shade=!1,this.skinName="skins.widget_card_skin"}__extends(t,e);var n=__define,i=t,r=i.prototype;return n(r,"cardData",function(){return this._cardData},function(e){this._cardData=e,this.cardImage.source=Config.getCardSource(this._cardData)}),n(r,"selected",function(){return this._selected},function(e){this._selected!=e&&(this._selected=e,this._selected?(this.y-=Config.CardVerticalSelectedOffset,this.status=Config.Selected):(this.y+=Config.CardVerticalSelectedOffset,this.status=Config.Normal))}),n(r,"status",function(){return this._status},function(e){this._status=e}),n(r,"shade",function(){return this._shade},function(e){this._shade=e,this.shadeImage.visible=this._shade}),t}(eui.Component);e.widget_card_skin=t,egret.registerClass(t,"gameui.widget_card_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.widget_playBackground_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.bindListeners()},r.bindListeners=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},r.unbindListeners=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},r.onTouchTap=function(){this.dispatchEvent(new egret.Event(e.widget_playBackground_skin.UNSELECT_CARDS,!1,!1))},r.destroy=function(){this.unbindListeners()},n.UNSELECT_CARDS="UNSELECT_CARDS",n}(eui.Component);e.widget_playBackground_skin=t,egret.registerClass(t,"gameui.widget_playBackground_skin")}(gameui||(gameui={}));var gameui;!function(e){var t=function(t){function n(){t.call(this),this.skinName="skins.widget_player_skin",this.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this)}__extends(n,t);var i=(__define,n),r=i.prototype;return r.onAddedToStage=function(e){this.playerImage.source="lord_playerinfo_icon_farmer_face_to_right_png",this.anchorOffsetX=this.playerImage.width>>1,this.anchorOffsetY=this.playerImage.height>>1,this.bindListeners()},r.bindListeners=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this,!1)},r.unbindListeners=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this,!1)},r.onTouchTap=function(t){null==this.playerInfoPanel&&(this.type==n.MyPlayer?(this.playerInfoPanel=new e.panel_my_playerInfo_skin,this.playerInfoPanel.left=180,this.playerInfoPanel.top=210):(this.playerInfoPanel=new e.panel_other_playerInfo_skin,this.playerInfoPanel.left=this.type==n.LeftPlayer?180:630,this.playerInfoPanel.top=20)),game.ChessGameRoom.getInstance().replaceActivePanel(this.playerInfoPanel),this.dispatchEvent(new egret.Event(e.widget_player_skin.OPEN_PLAYER_INFO,!1,!1,this.type)),t.stopImmediatePropagation()},r.destroy=function(){this.unbindListeners()},n.OPEN_PLAYER_INFO="open_player_info",n.LeftPlayer="左边玩家",n.RightPlayer="右边玩家",n.MyPlayer="我",n}(eui.Component);e.widget_player_skin=t,egret.registerClass(t,"gameui.widget_player_skin")}(gameui||(gameui={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.screen_lobby_skin.addEventListener(gameui.indicatorPage_lobby_game_entry_skin.ENTER_GAME,this.onEnterGame,this)},a.onEnterGame=function(t){var n=new e.ScreenConfig(t.data.group,t.data.screenName,this.screen_lobby_skin.screenConfig);e.ApplicationFacade.getInstance().sendNotification(e.ScreenCommand.SHOW,n),t.stopPropagation()},a.unregisterListeners=function(){this.screen_lobby_skin.removeEventListener(gameui.indicatorPage_lobby_game_entry_skin.ENTER_GAME,this.onEnterGame,this)},i(a,"screen_lobby_skin",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){e.getName()},a.onRemove=function(){this.unregisterListeners()},n.NAME="LobbyScreenMediator",n}(puremvc.Mediator);e.LobbyScreenMediator=t,egret.registerClass(t,"game.LobbyScreenMediator")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.screen_lord_lobby_skin.addEventListener(gameui.screen_lord_lobby_skin.ENTER_LORD,this.onEnterLord,this),this.screen_lord_lobby_skin.addEventListener(gameui.screen_lord_lobby_skin.RETURN_HALL,this.onReturnHall,this)},a.onEnterLord=function(t){var n=new e.ScreenConfig("","screen_lord_match_select_skin",t.data);e.ApplicationFacade.getInstance().sendNotification(e.ScreenCommand.SHOW,n)},a.onReturnHall=function(t){var n=new e.ScreenConfig("","screen_lobby_skin");e.ApplicationFacade.getInstance().sendNotification(e.ScreenCommand.SHOW,n)},a.unregisterListeners=function(){this.screen_lord_lobby_skin.removeEventListener(gameui.screen_lord_lobby_skin.ENTER_LORD,this.onEnterLord,this),this.screen_lord_lobby_skin.removeEventListener(gameui.screen_lord_lobby_skin.RETURN_HALL,this.onReturnHall,this)},i(a,"screen_lord_lobby_skin",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){e.getName()},a.onRemove=function(){this.unregisterListeners()},n.NAME="LordLobbyScreenMediator",n}(puremvc.Mediator);e.LordLobbyScreenMediator=t,egret.registerClass(t,"game.LordLobbyScreenMediator")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.selectedIndex=-1,this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.screen_lord_match_select_skin.addEventListener(gameui.screen_lord_match_select_skin.MATCH_SELECT,this.onMatchSelect,this),this.screen_lord_match_select_skin.addEventListener(gameui.screen_lord_match_select_skin.MATCH_RETURN,this.onMatchReturn,this)},a.onMatchSelect=function(e){this.screen_lord_match_select_skin.titleImage.source="lobby_title_"+this.screen_lord_match_select_skin.screenConfig.data+"_"+(this.screen_lord_match_select_skin.matchList.selectedIndex+1)+"_png",this.screen_lord_match_select_skin.titleImage.anchorOffsetY=this.screen_lord_match_select_skin.titleImage.height>>1,this.screen_lord_match_select_skin.matchList.touchChildren=!1,egret.Tween.get(this.screen_lord_match_select_skin.matchList).to({x:-1280},600,egret.Ease.sineOut),egret.Tween.get(this.screen_lord_match_select_skin.matchItemSelectIndicator).to({x:0},600,egret.Ease.sineOut).call(this.screen_lord_match_select_skin.matchItemSelectIndicator.ready)},a.onMatchReturn=function(t){if(this.screen_lord_match_select_skin.matchItemSelectIndicator.selectedIndex>0)this.screen_lord_match_select_skin.matchItemSelectIndicator.selectedIndex--;else if(0==this.screen_lord_match_select_skin.matchItemSelectIndicator.x)this.screen_lord_match_select_skin.titleImage.source="lobby_title_"+this.screen_lord_match_select_skin.screenConfig.data+"_png",egret.Tween.get(this.screen_lord_match_select_skin.matchList).to({x:0},600,egret.Ease.sineOut).call(function(){this.screen_lord_match_select_skin.matchList.touchChildren=!0},this),egret.Tween.get(this.screen_lord_match_select_skin.matchItemSelectIndicator).to({x:1280},600,egret.Ease.sineOut);else if(0==this.screen_lord_match_select_skin.matchList.x){var n=new e.ScreenConfig("lordGames","screen_lord_lobby_skin");e.ApplicationFacade.getInstance().sendNotification(e.ScreenCommand.SHOW,n)}},a.unregisterListeners=function(){this.screen_lord_match_select_skin.removeEventListener(gameui.screen_lord_match_select_skin.MATCH_SELECT,this.onMatchSelect,this),this.screen_lord_match_select_skin.removeEventListener(gameui.screen_lord_match_select_skin.MATCH_RETURN,this.onMatchReturn,this)},i(a,"screen_lord_match_select_skin",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){e.getName()},a.onRemove=function(){this.unregisterListeners()},n.NAME="LordMatchSelectScreenMediator",n}(puremvc.Mediator);e.LordMatchSelectScreenMediator=t,egret.registerClass(t,"game.LordMatchSelectScreenMediator")}(game||(game={}));var PopUpManager;!function(e){function t(e,t){if(void 0===t&&(t=!0),!game.ChessGameRoom.getInstance().panelLayer.contains(e)){var n=new egret.Sprite;n.graphics.beginFill(0,.5),n.graphics.drawRect(0,0,Core.stageWidth,Core.stageHeight),n.graphics.endFill(),n.width=Core.stageWidth,n.height=Core.stageHeight,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onModalSpriteTouchTap,this),game.ChessGameRoom.getInstance().panelLayer.addChild(n),egret.Tween.get(n).to({alpha:1},150),this.panelList[this.panelList.length]=e,this.modalSpriteList[this.modalSpriteList.length]=n,game.ChessGameRoom.getInstance().panelLayer.addChild(e),t&&(e.x=Core.stageHalfWidth-e.width/2,e.y=Core.stageHalfHeight-e.height/2)}}function n(e){this.removePopUp(this.panelList[this.panelList.length-1])}function i(e){var t=this.panelList.indexOf(e);this.panelList.splice(t,1);var n=this.modalSpriteList[t];this.modalSpriteList.splice(t,1);var i=function(){game.ChessGameRoom.getInstance().panelLayer.contains(n)&&game.ChessGameRoom.getInstance().panelLayer.removeChild(n),game.ChessGameRoom.getInstance().panelLayer.contains(e)&&game.ChessGameRoom.getInstance().panelLayer.removeChild(e),n=null,e=null};egret.Tween.get(n).to({alpha:0},50).call(i,this)}e.panelList=[],e.modalSpriteList=[],e.addPopUp=t,e.onModalSpriteTouchTap=n,e.removePopUp=i}(PopUpManager||(PopUpManager={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.myCards.addEventListener(gameui.MyCards.SELECT_CARDS,this.onSelectCards,this)},r.onSelectCards=function(e){},r.unregisterListeners=function(){this.myCards.removeEventListener(gameui.MyCards.SELECT_CARDS,this.onSelectCards,this)},n(r,"myCards",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){e.getName()},r.onRemove=function(){this.unregisterListeners(),this.myCards.destroy()},t.NAME="MyCardsMediator",t}(puremvc.Mediator);e.MyCardsMediator=t,egret.registerClass(t,"game.MyCardsMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.panel_my_playerInfo_skin.addEventListener(gameui.panel_my_playerInfo_skin.MY_EMOTION,this.onMyEmotion,this)},r.unregisterListeners=function(){this.panel_my_playerInfo_skin.removeEventListener(gameui.panel_my_playerInfo_skin.MY_EMOTION,this.onMyEmotion,this)},r.onMyEmotion=function(e){},n(r,"panel_my_playerInfo_skin",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.panel_my_playerInfo_skin.destroy()},t.NAME="MyPlayerInfoPanelMediator",t}(puremvc.Mediator);e.MyPlayerInfoPanelMediator=t,egret.registerClass(t,"game.MyPlayerInfoPanelMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.otherPlayerInfoPanel.addEventListener(gameui.panel_other_playerInfo_skin.OTHER_EMOTION,this.onOtherEmotion,this)},r.unregisterListeners=function(){this.otherPlayerInfoPanel.removeEventListener(gameui.panel_other_playerInfo_skin.OTHER_EMOTION,this.onOtherEmotion,this)},r.onOtherEmotion=function(e){},n(r,"otherPlayerInfoPanel",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.otherPlayerInfoPanel.destroy()},t.NAME="OtherPlayerInfoPanelMediator",t}(puremvc.Mediator);e.OtherPlayerInfoPanelMediator=t,egret.registerClass(t,"game.OtherPlayerInfoPanelMediator")}(game||(game={}));var game;!function(e){var t=function(t){function n(e){t.call(this,n.NAME,e),this.registerListeners()}__extends(n,t);var i=__define,r=n,a=r.prototype;return a.registerListeners=function(){this.widget_playBackground_skin.addEventListener(gameui.widget_playBackground_skin.UNSELECT_CARDS,this.onUnselectCards,this)},a.unregisterListeners=function(){this.widget_playBackground_skin.removeEventListener(gameui.widget_playBackground_skin.UNSELECT_CARDS,this.onUnselectCards,this)},a.onUnselectCards=function(){this.sendNotification(e.CardCommand.UNSELECT_CARD)},i(a,"widget_playBackground_skin",function(){return this.viewComponent}),a.listNotificationInterests=function(){return[]},a.handleNotification=function(e){},a.onRemove=function(){this.unregisterListeners(),this.widget_playBackground_skin.destroy()},n.NAME="PlayBackgroundMediator",n}(puremvc.Mediator);e.PlayBackgroundMediator=t,egret.registerClass(t,"game.PlayBackgroundMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.bar_play_card.addEventListener(gameui.bar_play_card.PASS,this.onPass,this),this.bar_play_card.addEventListener(gameui.bar_play_card.PROMPT,this.onPrompt,this),this.bar_play_card.addEventListener(gameui.bar_play_card.PRODUCT,this.onProduct,this)},r.unregisterListeners=function(){this.bar_play_card.removeEventListener(gameui.bar_play_card.PASS,this.onPass,this),this.bar_play_card.removeEventListener(gameui.bar_play_card.PROMPT,this.onPrompt,this),this.bar_play_card.removeEventListener(gameui.bar_play_card.PRODUCT,this.onProduct,this)},r.onPass=function(e){},r.onPrompt=function(e){},r.onProduct=function(e){},n(r,"bar_play_card",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.bar_play_card.destroy()},t.NAME="PlayCardBarMediator",t}(puremvc.Mediator);e.PlayCardBarMediator=t,egret.registerClass(t,"game.PlayCardBarMediator")}(game||(game={}));var game;!function(e){var t=function(e){function t(n){e.call(this,t.NAME,n),this.registerListeners()}__extends(t,e);var n=__define,i=t,r=i.prototype;return r.registerListeners=function(){this.widget_player_skin.addEventListener(gameui.widget_player_skin.OPEN_PLAYER_INFO,this.onOpenPlayerInfo,this)},r.unregisterListeners=function(){this.widget_player_skin.removeEventListener(gameui.widget_player_skin.OPEN_PLAYER_INFO,this.onOpenPlayerInfo,this)},r.onOpenPlayerInfo=function(e){},n(r,"widget_player_skin",function(){return this.viewComponent}),r.listNotificationInterests=function(){return[]},r.handleNotification=function(e){},r.onRemove=function(){this.unregisterListeners(),this.widget_player_skin.destroy()},t.NAME="PlayerMediator",t}(puremvc.Mediator);e.PlayerMediator=t,egret.registerClass(t,"game.PlayerMediator")}(game||(game={}));